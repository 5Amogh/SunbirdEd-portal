angular.module('playerApp')
        .controller('courseScheduleCtrl', function (courseService, $timeout, $rootScope, $sce, $sessionStorage) {
        var toc = this;
                var tempToc = {"content":{"code":"test_cwp_3", "description":"Test Assets Missing Issue", "language":["Hindi"], "mimeType":"application/vnd.ekstep.content-collection", "idealScreenSize":"normal", "createdOn":"2017-02-28T13:41:42.393+0000", "gradeLevel":["Grade 1"], "appIcon":"https://ekstep-public.s3-ap-southeast-1.amazonaws.com/language_assets/blue-equals_1459190093659.png", "collections":[], "children":[{"subject":"literacy", "downloadUrl":"https://ekstep-public-dev.s3-ap-south-1.amazonaws.com/content/org.ekstep.feb21.story.test01/artifact/pp_1487689204791.jpeg", "language":["English"], "mimeType":"image/jpeg", "gradeLevel":["Grade 1"], "me_totalTimespent":1.49, "me_averageTimespentPerSession":1.49, "collections":[{"identifier":"org.ekstep.feb21.collection.test01", "name":"Test_QA_Collection", "objectType":"Content", "relation":"hasSequenceMember", "description":"Test_QA", "index":null}, {"identifier":"do_11219206596520345611", "name":"Test Assets Missing Issue", "objectType":"Content", "relation":"hasSequenceMember", "description":"Test Assets Missing Issue", "index":null}], "children":[], "usesContent":[], "me_totalRatings":0, "artifactUrl":"https://ekstep-public-dev.s3-ap-south-1.amazonaws.com/content/org.ekstep.feb21.story.test01/artifact/pp_1487689204791.jpeg", "sYS_INTERNAL_LAST_UPDATED_ON":"2017-03-16T02:21:23.802+0000", "contentType":"Asset", "item_sets":[], "identifier":"org.ekstep.feb21.story.test01", "visibility":"Default", "index":4, "mediaType":"content", "osId":"org.ekstep.quiz.app", "ageGroup":["5-6"], "size":12228, "lastPublishedOn":"2017-02-21T15:00:18.955+0000", "concepts":[], "me_averageSessionsPerDevice":1, "name":"शेर का साथी हाथी", "status":"Live", "me_averageInteractionsPerMin":40.27, "code":"org.ekstep.feb21.story.test01", "me_totalSessionsCount":1, "methods":[], "description":"शेर का साथी हाथी", "idealScreenSize":"normal", "createdOn":"2017-02-21T14:59:50.961+0000", "me_totalSideloads":0, "me_totalComments":0, "popularity":1.49, "lastUpdatedOn":"2017-03-08T08:35:27.494+0000", "me_totalDevices":1, "me_totalDownloads":2, "owner":"EkStep", "os":["All"], "libraries":[], "me_totalInteractions":1, "pkgVersion":1, "versionKey":"1489630883802", "idealScreenDensity":"hdpi", "s3Key":"ecar_files/org.ekstep.feb21.story.test01/sher-kaa-saathii-haathii_1487689218820_org.ekstep.feb21.story.test01_1.0.ecar", "me_averageRating":0, "compatibilityLevel":1, "testCSVImportField":1}, {"code":"org.ekstep.feb21.story.test02", "subject":"literacy", "methods":[], "downloadUrl":"https://ekstep-public-dev.s3-ap-south-1.amazonaws.com/content/org.ekstep.feb21.story.test02/artifact/1485166711340_do_30102464_1487689296666.zip", "description":"शेर का साथी हाथी", "language":["English"], "mimeType":"application/vnd.ekstep.ecml-archive", "idealScreenSize":"normal", "createdOn":"2017-02-21T15:01:05.125+0000", "gradeLevel":["Grade 1"], "collections":[{"identifier":"do_11219206596520345611", "name":"Test Assets Missing Issue", "objectType":"Content", "relation":"hasSequenceMember", "description":"Test Assets Missing Issue", "index":null}, {"identifier":"org.ekstep.feb21.collection.test01", "name":"Test_QA_Collection", "objectType":"Content", "relation":"hasSequenceMember", "description":"Test_QA", "index":null}], "children":[], "usesContent":[], "artifactUrl":"https://ekstep-public-dev.s3-ap-south-1.amazonaws.com/content/org.ekstep.feb21.story.test02/artifact/1485166711340_do_30102464_1487689296666.zip", "lastUpdatedOn":"2017-03-08T08:35:27.790+0000", "contentType":"Asset", "item_sets":[], "owner":"EkStep", "identifier":"org.ekstep.feb21.story.test02", "visibility":"Default", "os":["All"], "libraries":[], "index":5, "mediaType":"content", "osId":"org.ekstep.quiz.app", "ageGroup":["5-6"], "pkgVersion":1, "versionKey":"1488962127790", "idealScreenDensity":"hdpi", "s3Key":"ecar_files/org.ekstep.feb21.story.test02/sher-kaa-saathii-haathii_1487689340620_org.ekstep.feb21.story.test02_1.0.ecar", "size":9983549, "lastPublishedOn":"2017-02-21T15:02:22.164+0000", "concepts":[], "compatibilityLevel":1, "name":"शेर का साथी हाथी", "status":"Live"}, {"subject":"literacy", "downloadUrl":"https://ekstep-public-dev.s3-ap-south-1.amazonaws.com/content/org.ekstep.feb21.story.test03/artifact/aser-6.0.0.54_215_1486110112_1486110112992_1487689402364.apk", "language":["English"], "mimeType":"application/vnd.android.package-archive", "gradeLevel":["Grade 1"], "me_totalTimespent":1.01, "me_averageTimespentPerSession":1.01, "collections":[{"identifier":"org.ekstep.feb21.collection.test01", "name":"Test_QA_Collection", "objectType":"Content", "relation":"hasSequenceMember", "description":"Test_QA", "index":null}, {"identifier":"do_11219206596520345611", "name":"Test Assets Missing Issue", "objectType":"Content", "relation":"hasSequenceMember", "description":"Test Assets Missing Issue", "index":null}], "children":[], "usesContent":[], "me_totalRatings":0, "artifactUrl":"https://ekstep-public-dev.s3-ap-south-1.amazonaws.com/content/org.ekstep.feb21.story.test03/artifact/aser-6.0.0.54_215_1486110112_1486110112992_1487689402364.apk", "sYS_INTERNAL_LAST_UPDATED_ON":"2017-03-16T02:21:25.777+0000", "contentType":"Asset", "item_sets":[], "identifier":"org.ekstep.feb21.story.test03", "visibility":"Default", "index":3, "mediaType":"content", "osId":"org.ekstep.quiz.app", "ageGroup":["5-6"], "size":5354713, "lastPublishedOn":"2017-02-21T15:06:54.288+0000", "concepts":[], "me_averageSessionsPerDevice":1, "name":"शेर का साथी हाथी", "status":"Live", "me_averageInteractionsPerMin":59.41, "code":"org.ekstep.feb21.story.test03", "me_totalSessionsCount":1, "methods":[], "description":"शेर का साथी हाथी", "idealScreenSize":"normal", "createdOn":"2017-02-21T15:03:02.043+0000", "me_totalSideloads":0, "me_totalComments":0, "popularity":1.01, "lastUpdatedOn":"2017-03-08T08:35:28.035+0000", "me_totalDevices":1, "me_totalDownloads":2, "owner":"EkStep", "os":["All"], "libraries":[], "me_totalInteractions":1, "pkgVersion":2, "versionKey":"1489630885777", "idealScreenDensity":"hdpi", "s3Key":"ecar_files/org.ekstep.feb21.story.test03/sher-kaa-saathii-haathii_1487689613447_org.ekstep.feb21.story.test03_2.0.ecar", "me_averageRating":0, "compatibilityLevel":1, "testCSVImportField":1}], "lastUpdatedOn":"2017-03-08T08:36:19.054+0000", "contentType":"Collection", "owner":"EkStep", "identifier":"do_11219206596520345611", "visibility":"Default", "os":["All"], "portalOwner":"EkStep", "mediaType":"content", "osId":"org.ekstep.quiz.app", "ageGroup":["5-6"], "languageCode":"hi", "versionKey":"1488962179054", "idealScreenDensity":"hdpi", "compatibilityLevel":1, "name":"Test Assets Missing Issue", "usedByContent":[], "status":"Draft"}};
                toc.courseHierachy = tempToc.content;
                toc.expandMe = function($event){
                if (!$($event.target).closest("li").find('.toc-list-sub-menu').first().hasClass('active'))
                {
                $($event.target).closest("li").find('.toc-list-sub-menu').first().show(300).addClass('active');
                }
                else
                {
                $($event.target).closest("li").find('.toc-list-sub-menu').first().hide(300).removeClass('active');
                }
                };
        });
