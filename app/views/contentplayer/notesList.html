<div class="ui segment margin-auto padding-left-right-0 padding-top-bottom-0 " ng-init="ngInit();">

    <div class="ui grid margin-top-0 margin-left-right-0 margin-bottom-0 height-100" id="notesList">
        <div class="twelve wide column">
            <div class="ui container padding-bottom-15 container-with-button padding-left-right-0">
                <span class="ui header">My Notes</span>
                <i class="circular icon margin-left-right-10 link" ng-class="!add.showCreateNote ? 'plus' : 'remove'" ng-click="add.showCreateNote = !add.showCreateNote;"></i>
                <h5 class="ui right floated basic icon circular button" ng-click="closeNoteList()">
                    <i class="ui remove icon"></i>
                </h5>
            </div>
            <div ng-if="add.showCreateNote">
                <div ng-include="'views/note/createNote.html'"></div>
            </div>
            <div class="ui fluid icon input">
                <input type="text" ng-model="searchData.text" ng-change="searchNote(searchData.text)" placeholder="Search for notes or title" title="Search" />
                <i class="circular search link icon" ng-click="searchNote(searchData.text)"></i>
            </div>
            <div class="ui huge info message" ng-if="!notesList && !error.showError">
                <p>No note found.</p>
            </div>
            <!--</div>-->
            <div class="ui items" ng-repeat="note in notesList| orderBy : '-lastUpdatedOn' ">
                <div class="ui clearing divider"></div>
                <div class="item">
                    <div class="content">
                        <div class="ui row margin-left-right-0">
                            <span class="ui small header mouse-pointer" ng-click="update.showUpdateNote = !update.showUpdateNote; update.metaData = note;"> {{ note.title | limitTo: 40 }}&nbsp;
                                <i ng-show="note.title.length > 40"  data-tooltip={{note.title}}></i>
                            </span>
                            <span><i class="large remove circle icon margin-top--5 margin-bottom-0 link"  ng-click="removeNote(note.identifier)"></i></span>
                        </div>
                        <div class="meta">
                            <span class="time font-size-small">{{note.lastUpdatedOn| dateFilterXTimeAgo}}</span>
                        </div>
                        <div class="description">
                            <span> {{ note.note | limitTo: 80 }}&nbsp;
                                <i ng-show="note.note.length > 80" class="ellipsis horizontal icon popup-button" data-content="{{note.note}}"
                                   data-variation="wide"></i> 
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="twelve wide column" ng-if="update.showUpdateNote">
            <div ng-include="'views/note/updateNote.html'"></div>
        </div>
    </div>
    <div ng-if="error.showError && !showSearchTemplate && !showCreateTextBookUnit && !showCourseDetail">
        <help-message data="error"></help-message>
    </div>
</div>