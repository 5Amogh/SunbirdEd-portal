<div class="graph-filters" #chartRootElement>

  <label class="pad5"> {{ this.chartOptions?.title?.text  }} </label>
  <app-filter [resetFilters]="resetFilters"  [hideElements]="hideElements" [selectedFilter]="selectedFilters" [filters]="filters" (filterChanged)="filterChanged($event)" [chartData]="chartData"
 [chartType]="chartType" [telemetryInteractObject]="telemetryInteractObject" [showGraphStats]="showGraphStats" (graphStatsChange)="graphStatsChange($event)">
 </app-filter>

 <div *ngIf="showStats">
  <div _ngcontent-c14="" class="graph-statistics py-16" *ngFor="let stat of loadash.keys(resultStatistics)">
    {{stat}} <div class="sb-label sb-label-table sb-label-primary-100 mr-4"
      *ngFor="let op of loadash.keys(resultStatistics[stat])"> {{op}} : {{resultStatistics[stat][op]}}
    </div>
  </div>
</div>

  <div *ngIf="!showFilters && isUserReportAdmin && chartConfig.id" [ngClass]="{'hide': hideElements}"
    class="d-flex flex-jc-flex-end  mt-8 mr-8 sb-last-update-status">
    <button appTelemetryInteract [telemetryInteractObject]="telemetryInteractObject"
      [telemetryInteractCdata]="[{id: chartConfig?.id, type: 'Chart'}]"
      [telemetryInteractEdata]="{id: 'report-chart', type: 'chart-summary', pageid: activatedRoute.snapshot.data.telemetry.pageid}"
      (click)="addChartSummary()" type="button"
      class="sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn"><i class="add icon"></i>Add
      {{ resourceService?.frmelmnts?.lbl?.chartSummary}}</button>
  </div>
  <div class="dashboard-graph-statistics py-24" *ngIf="bigNumberCharts.length">
    <div class="graph-stat-block" *ngFor="let bigNumberChart of bigNumberCharts">
      <div class="graph-stat-label">{{bigNumberChart?.header}}</div>
      <div class="graph-stat-value">{{bigNumberChart?.data}} </div>
      <div class="graph-stat-info"> {{bigNumberChart?.footer}} </div>
    </div>
  </div>
  <div class="d-flex flex-jc-flex-end  mt-8 mr-8 sb-last-update-status" *ngIf="showLastUpdatedOn && lastUpdatedOn">
    <span class="font-italic">{{resourceService?.frmelmnts?.lbl?.lastUpdatedOn}}&nbsp;: </span> &nbsp; {{lastUpdatedOn}}
  </div>
  <ng-container *ngIf="showChart && !iframeDetails">
    <canvas #chartCanvas baseChart [datasets]="datasets" [labels]="chartLabels" [options]="chartOptions"
      [chartType]="chartType" [legend]="legend" [colors]="chartColors"></canvas>
  </ng-container>
  <ng-container *ngIf="iframeDetails">
    <iframe frameborder="0" class="dashboard-iframe" [src]="getIframeURL()">
    </iframe>
  </ng-container>
  <div class="my-16" *ngIf="chartSummary$ | async as summary">
    <app-report-summary *ngIf="summary.length" [inputData]="summary"></app-report-summary>
  </div>
</div>


