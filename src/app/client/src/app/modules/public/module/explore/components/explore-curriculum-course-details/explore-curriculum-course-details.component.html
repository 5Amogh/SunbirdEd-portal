<!-- Back Button -->
<div class="sb-bg-color-white">
  <div class="ui container py-8">
    <button type="button" class="sb-btn sb-btn-normal sb-btn-link
      sb-btn-link-primary sb-left-icon-btn px-0" (click)="goBack()">
      <i class="icon-svg icon-svg--xxs icon-back mr-4">
        <svg class="icon icon-svg--primary">
          <use xlink:href="./assets/images/sprite.svg#arrow-long-left"></use>
        </svg>
      </i> {{resourceService?.frmelmnts?.btn?.back}}</button>
  </div>
</div>

<!-- Header -->
<div class="content-header header-shadow">
  <div class="ui container py-16">
    <div class="d-flex flex-ai-center flex-jc-space-between flex-w-wrap">

      <div class="content-header__img mr-8">
        <img [src]="course?.appIcon" alt="" (error)="img.src = courseFallbackImg" #img>
      </div>

      <div class="flex-basis-1 mr-32 text-left">
        <div class="content-header__info">{{course?.name | titlecase}}</div>
        <h5 class="content-header__title mt-4 ellipsis">{{course?.name | titlecase}}</h5>
      </div>

      <div class="d-flex flex-ai-end flex-w-wrap content-header__buttons">
        <button class="sb-btn sb-btn-secondary sb-btn-normal" (click)="showSignInModal()">
          <i class="icon-svg icon-svg--xxs icon-back mr-4">
            <svg class="icon icon-svg--primary">
              <use xlink:href="./assets/images/sprite.svg#green-play"></use>
            </svg>
          </i> {{resourceService?.frmelmnts?.btn?.continueLearning}}
        </button>
      </div>

    </div>
  </div>
</div>

<!-- content Section-->
<div class="ui container py-16">
  <div *ngFor="let item of course?.children; let index = index">
    <div class="d-flex flex-ai-center flex-jc-space-between py-8">
      <h5 class="course-list_title py-8 ellipsis mr-16">{{item?.name}}</h5>
      <button (click)="navigateToPlayerPage(item)"
        class="sb-btn sb-btn-outline-secondary sb-btn-normal flex-none ml-auto">{{resourceService?.frmelmnts?.lbl?.continue}}</button>
    </div>
    <div class="chapter-box sb-g">
      <section class="sb-g-col-xs-12 sb-g-col-md-8 sb-g-col-lg-8">
        <sb-toc-curriculum *ngIf="item?.mimeType === 'application/vnd.ekstep.content-collection'" [tocData]="item"
          [isAccordion]="true" [activeContent]="activeContent" [type]="cardType">
        </sb-toc-curriculum>
        <sb-toc-card [content]="item" *ngIf="item?.mimeType !== 'application/vnd.ekstep.content-collection'"
          (tocCardClick)="showSignInModal($event)" [type]="cardType">
        </sb-toc-card>
      </section>
      <section class="sb-g-col-xs-12 sb-g-col-md-4 sb-g-col-lg-4">
        <div class="sb-bg-color-white course-list-progress text-left">
          <div class="course-list-progress__title">{{resourceService?.messages?.stmsg?.m0108 | uppercase}}</div>
          <div class="course-list-progress__status mt-8">20% {{resourceService?.frmelmnts?.lbl?.completed}}</div>
          <sui-progress value="10" maximum="100" class="green course-list-progress__barholder mt-8"></sui-progress>
          <div class="course-list-progress__info mt-8">
            {{resourceService?.frmelmnts?.lbl?.completeContentToUnlock | interpolate:'{count}': '5'}}</div>
        </div>
      </section>
    </div>
  </div>
</div>


<sui-modal [mustScroll]="true" [isClosable]="true" [transitionDuration]="0" [size]="'small'" class="sb-modal"
  appBodyScroll (dismissed)="closeLoginModal()" #modal *ngIf="showLoginModal">

  <!--Header-->
  <div class="sb-modal-header">
    {{resourceService?.frmelmnts?.lbl?.signinenrollTitle}}
  </div>
  <!--/Header-->
  <!--Content-->
  <div class="sb-modal-content">
    <div class="ui center aligned segment">
      <p>{{resourceService?.frmelmnts?.lbl?.signinenrollTitle}}</p>
    </div>
  </div>
  <!--/Content-->

  <!--Actions-->
  <div class="sb-modal-actions">
    <a appTelemetryInteract [telemetryInteractObject]="telemetryInteractObject"
      [telemetryInteractEdata]="signInInteractEdata" [href]="getCoursePlayerUrl()"
      class="sb-btn sb-btn-normal sb-btn-primary">
      {{resourceService.frmelmnts?.btn?.signin}}
    </a>
  </div>
  <!--/Actions-->
</sui-modal>