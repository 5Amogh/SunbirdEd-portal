<div class="ui container mt-24" [appTelemetryStart]="telemetryCourseStart" [appTelemetryEnd]="telemetryCourseEndEvent">
  <div class="ui stackable grid">

    <!--Content Section-->
    <div class="twelve wide column" [appTelemetryImpression]="telemetryImpression" id="app-player-collection-renderer" *ngIf="showPlayer">

      <!--Content Title-->
      <div class="sb-pageSection">
        <div class="sb-pageSection-header">
          <h2 class="sb-pageSection-title m-0 mr-5">
            {{contentTitle}}
          </h2>
          <button 
            class="sb-btn sb-btn-xs sb-btn-error ml-auto" 
            type="button" 
            (click)="closeContentPlayer()" 
            appTelemetryInteract 
            [telemetryInteractCdata]="this.telemetryCdata" 
            [telemetryInteractObject]="playerTelemetryInteractObject" 
            [telemetryInteractEdata]="closePlayerInteractEdata"
            >
              {{resourceService.frmelmnts.btn.close}}
              <i class="ui remove icon"></i>
          </button>
        </div>
      </div>
      <!--/Content Title-->

      <!--Content Player-->
      <app-player class="content-player"  [playerOption] ="playerOption" [playerConfig]="playerConfig | async"></app-player>
      <!--/Content Player-->

      <!--Content Navigation-->
      <div class="d-flex">
        <button 
          class="sb-btn sb-btn-normal sb-btn-primary" 
          (click)="navigateToContent(prevPlaylistItem)"
          [disabled]="prevPlaylistItem === undefined"
        >
          {{resourceService.frmelmnts.btn.previous}}
          <small class="d-block">{{prevPlaylistItem?.title || resourceService.messages.stmsg.m0120}}</small>
        </button>
        <button 
          class="sb-btn sb-btn-normal sb-btn-primary" 
          (click)="navigateToContent(nextPlaylistItem)"
          [disabled]="nextPlaylistItem === undefined"
        >
          {{resourceService.frmelmnts.btn.next}}
          <small class="d-block">{{nextPlaylistItem?.title || resourceService.messages.stmsg.m0120}}</small>
        </button>
      </div>
      <!--/Content Navigation-->
    
    </div>
    <!--/Content Section-->

    <!--Loader if collection data not ready-->
    <div class="twelve wide column" *ngIf="loader" >
      <app-loader [data]="loaderMessage"></app-loader>
    </div>
    <!--/Loader if collection data not ready-->

    <!--Collections-->
    <div class="twelve wide column" *ngIf="!loader">

      <!--Collection Title-->
      <div class="sb-pageSection">
        <div class="sb-pageSection-header">
          <h1 class="sb-pageSection-title m-0 mr-5">
            {{collectionTitle}}
          </h1>
          <button 
            class="sb-btn sb-btn-xs sb-btn-error ml-auto" 
            type="button" 
            (click)="closeCollectionPlayer()" 
            appTelemetryInteract 
            [telemetryInteractCdata]="telemetryCdata" 
            [telemetryInteractObject]="playerTelemetryInteractObject" 
            [telemetryInteractEdata]="closeCollectionPlayerInteractEdata"
            >
              {{resourceService.frmelmnts.btn.close}}
              <i class="ui remove icon"></i>
          </button>
        </div>
      </div>
      <!--/Collection Title-->

      <!--Badges-->
      <app-content-badge [data]="badgeData" ></app-content-badge>
      <!--Badges-->
      
      <!--Collection Tree-->
      <app-collection-tree 
        *ngIf="collectionTreeNodes.data && collectionTreeNodes.data.children && collectionTreeNodes.data.children.length >0 ; else dataCommingSoon" 
        (contentSelect)="OnPlayContent($event)" 
        [nodes]="collectionTreeNodes" 
        [options]="collectionTreeOptions"
      >
      </app-collection-tree>
      <!--/Collection Tree-->

      <!--Content Coming soon-->
      <ng-template #dataCommingSoon>
        <div class="placeholder mt-40">
          <img src="{{'assets/images/datacomingsoon.png' | cdnprefixurl }}" alt="{{resourceService?.messages?.stmsg?.m0121}}"/>
          <h5 class="header placeholder-heading mb-5">{{resourceService?.messages?.stmsg?.m0121}}</h5>
          <p class="placeholder-content">{{resourceService?.messages?.stmsg?.m0122}}</p>
        </div> 
      </ng-template>
      <!--/Content Coming soon-->
    </div>
    <!--/Collections-->

    <!--Collection metadata-->
    <div class="twelve wide column" *ngIf="!showPlayer">
      <app-collection-player-metadata [metaData]="collectionData"></app-collection-player-metadata>
    </div>
    <!--/Collection metadata-->

  </div>
</div>
