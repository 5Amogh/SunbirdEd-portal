<div *ngIf='!showTemplatePopup && showForm'>
  <form #mcqFormControl="ngForm" class="ui form {{templateDetails.templateClass}}">
    <div class="d-flex">
      <div class="d-inline-block">
        <span *ngIf="questionMetaData.data && questionMetaData.data.status === 'Live'"><a class="ui green empty circular label"></a> Published</span>
        <span *ngIf="questionMetaData.data && (questionMetaData.data.status === 'Review' || questionMetaData.data.status === 'Draft')"><a class="ui yellow empty circular label"></a> Submitted for Review</span>
        <span *ngIf="questionMetaData.data && questionMetaData.data.status === 'Reject'"><a class="ui red empty circular label"></a> Rejected</span>
      </div>
      <div class="ml-auto">
          <button class="sb-btn sb-btn-normal sb-btn-primary mcq-submit-btn" *ngIf="questionMetaData.data && ['Draft', 'Review', 'Reject'].includes(questionMetaData.data.status)" (click)="handleSubmit(mcqFormControl)" type="submit">Update</button>
          <button class="sb-btn sb-btn-normal sb-btn-primary mcq-submit-btn" *ngIf="!questionMetaData.data" (click)="createQuestion($event)" type="submit">Submit</button>
      </div>
    </div>
    <!-- <div class="mcq-submit-btn">
      <button *ngIf="!questionMetaData.data || ['Draft', 'Review', 'Reject'].includes(questionMetaData.data.status)"  class="sb-btn sb-btn-normal sb-btn-primary" (click)="handleSubmit(mcqFormControl)">Submit</button>
    </div> -->
    <div class="field mcq-title">
      <label class="mb-16 fs-1-286">Question</label>
      <app-ckeditor-tool (editorDataOutput)="mcqForm.question = $event" [editorConfig]="questionMetaData"
        [editorDataInput]="mcqForm.question"></app-ckeditor-tool>
    </div>
    <div class="mcq-options">
      <div class="mcq-option" *ngFor="let option of mcqForm.options; let i=index">
        <div class="fields">
          <div class="twelve wide field">
            <label class="mb-16 fs-1">Option {{i + 1}}:</label>
            <app-ckeditor-tool (editorDataOutput)="option.body = $event" [editorConfig]="questionMetaData"
              [editorDataInput]="option.body" [setCharacterLimit]="160"></app-ckeditor-tool>
              <div class="mcq-checkbox-answer">
                  <label >Mark as right answer</label>
                  <sui-radio-button name="'correct_response'" value={{i}} [(ngModel)]="mcqForm.answer"></sui-radio-button>
          </div>
        </div>
        </div>
      </div>
    </div>
    <div class="field">
    <div class="two fields">
      <div class="field">
        <label>Learning Outcome</label>
        <sui-select class="selection" #learningOutcome="ngModel" [(ngModel)]="mcqForm.learningOutcome" name="'learningOutcome'" required>
          <sui-select-option *ngFor="let option of learningOutcomeOptions" [value]="option"></sui-select-option>
        </sui-select>
        <label class="ui basic red error label pt-0" *ngIf="(learningOutcome.touched || showFormError) && learningOutcome.invalid">Fill Learning Outcome</label>
      </div>
      <div class="inline fields">
        <label>Difficulty:</label>
        <div class="field">
          <div class="ui radio checkbox">
              <sui-radio-button #difficultyLevel="ngModel" name="'difficultyLevel'" value="Easy" [(ngModel)]="mcqForm.difficultyLevel" required>Easy</sui-radio-button>
          </div>
        </div>
        <div class="field">
          <div class="ui radio checkbox">
            <sui-radio-button name="'difficultyLevel'" value="Medium" [(ngModel)]="mcqForm.difficultyLevel" required>Medium</sui-radio-button>
          </div>
        </div>
        <div class="field">
          <div class="ui radio checkbox">
            <sui-radio-button name="'difficultyLevel'" value="Hard" [(ngModel)]="mcqForm.difficultyLevel" required>Hard</sui-radio-button>
          </div>
        </div>
        <label class="ui basic red error label pt-0" *ngIf="(difficultyLevel.touched || showFormError) && difficultyLevel.invalid">Fill Difficulty Level </label>
      </div>
    </div>
    <div class="two fields">
      <div class="field">
        <label>Blooms Level</label>
        <sui-select class="selection" #bloomsLevel="ngModel" [(ngModel)]="mcqForm.bloomsLevel" name="'bloomsLevel'" required>
          <sui-select-option *ngFor="let option of bloomsLevelOptions" [value]="option"></sui-select-option>
        </sui-select>
        <label class="ui basic red error label pt-0" *ngIf="(bloomsLevel.touched || showFormError) && bloomsLevel.invalid">Fill Blooms Level </label>
      </div>
      <div class="field">
        <label>Marks</label>
        <input type="text" #max_score="ngModel" name="'max_score'" [(ngModel)]="mcqForm.max_score" placeholder="Marks" required>
        <label *ngIf="(max_score.touched || showFormError) && max_score.invalid" class="ui basic red error label pt-0">Marks is mandatory</label>
      </div>
    </div>
  </div>
  </form>
</div>

<app-mcq-template-selection *ngIf='showTemplatePopup' (templateSelection)="handleTemplateSelection($event)">
</app-mcq-template-selection>
