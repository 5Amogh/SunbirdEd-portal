import { Component, ViewChild } from '@angular/core';
import { Validators } from '@angular/forms';
import moment from 'moment/moment';
import { debounceTime } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "../../services/uci.service";
import * as i2 from "@angular/router";
import * as i3 from "@angular/forms";
import * as i4 from "../../services/global.service";
import * as i5 from "@angular/common";
import * as i6 from "@project-sunbird/ng2-semantic-ui";
import * as i7 from "../user-segment-list/user-segment-list.component";
import * as i8 from "../user-segment-add/user-segment-add.component";
import * as i9 from "../terms-conditions/terms-conditions.component";
export class ConversationAddComponent {
    constructor(uciService, router, activatedRoute, fb, globalService) {
        this.uciService = uciService;
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.fb = fb;
        this.globalService = globalService;
        this.currentViewState = 'ADD_CONVERSATION';
        this.stepIndex = 1;
        this.selectedLogic = [];
        this.userSegments = [];
        this.column = '';
        this.sortDirection = '';
        this.reverse = false;
        this.collectionListModal = false;
        this.isLoaderShow = false;
        this.isModalLoaderShow = false;
        this.logicFormRequest = {};
        this.isCheckedTermCondition = false;
        this.termsAndConditionModal = false;
        this.verifyAllItemsModal = false;
        this.startMinDate = new Date();
        this.Appropriateness = [
            {
                text: 'No Hate speech, Abuse, Violence, Profanity',
                checks: false
            },
            {
                text: 'No Sexual content, Nudity or Vulgarity',
                checks: false
            },
            {
                text: 'No Discrimination or Defamation',
                checks: false
            },
            {
                text: 'Is suitable for children',
                checks: false
            }
        ];
        this.contentDetails = [
            {
                text: 'Appropriate Title, Description',
                checks: false
            },
            {
                text: 'Correct Board, Grade, Subject, Medium',
                checks: false
            },
            {
                text: 'Appropriate tags such as Resource Type, Concepts',
                checks: false
            },
            {
                text: 'Relevant keywords',
                checks: false
            }
        ];
        this.usability = [
            {
                text: 'Content plays correctly',
                checks: false
            },
            {
                text: 'Can see the content clearly on Desktop and App',
                checks: false
            },
            {
                text: 'Audio (if any) is clear and easy to understand',
                checks: false
            },
            {
                text: 'No spelling mistakes in the text',
                checks: false
            },
            {
                text: 'Language is simple to understand',
                checks: false
            }
        ];
        this.odkFileAlreadyExist = false;
        this.isStartingMessageExist = false;
        const tempDate = moment().add(1, 'days').format('YYYY-MM-DD');
        this.endMinDate = new Date(tempDate);
    }
    ngOnInit() {
        this.user = this.globalService.getUser();
        if (!this.user) {
            this.router.navigate(['uci-admin']);
            return;
        }
        this.conversationForm = this.fb.group({
            name: ['', Validators.required],
            description: [''],
            purpose: ['', Validators.required],
            startingMessage: ['', Validators.required],
            startDate: [null],
            endDate: [null],
            status: ['Draft']
        });
        this.logicForm = this.fb.group({
            id: [null],
            name: ['', Validators.required],
            description: [''],
            formId: ['', Validators.required]
        });
        // Edit case
        this.conversationId = this.activatedRoute.snapshot.paramMap.get('id');
        if (this.conversationId) {
            this.getUserSegmentDetail();
        }
        // start date and end date value change
        this.conversationForm.get('startDate').valueChanges.subscribe(val => {
            this.conversationForm.get('endDate').patchValue(null);
            const tempDate = moment(val).add(1, 'days').format('YYYY-MM-DD');
            this.endMinDate = new Date(tempDate);
        });
        this.conversationForm.get('startingMessage').valueChanges
            .pipe(debounceTime(1000))
            .subscribe(value => {
            this.onStarringMessageChange();
        });
    }
    userSegment() {
        this.currentViewState = 'SELECT_SEGMENT';
    }
    onUserSegmentCancel() {
        this.currentViewState = 'ADD_CONVERSATION';
    }
    onUserSegmentAddClick() {
        this.currentViewState = 'ADD_SEGMENT';
    }
    onUserSegmentAdd(segments) {
        this.userSegments = segments;
        this.currentViewState = 'ADD_CONVERSATION';
    }
    onUserSegmentCreate(segment) {
        this.userSegments.push(segment);
        this.currentViewState = 'ADD_CONVERSATION';
    }
    onUserSegmentDelete(index) {
        this.userSegments.splice(index, 1);
    }
    nextStep() {
        if (this.stepIndex === 1 && this.conversationForm.valid) {
            this.stepIndex = 2;
        }
    }
    backToStepOne() {
        if (this.stepIndex === 2) {
            this.stepIndex = 1;
        }
    }
    onAddCancel() {
        this.router.navigate(['uci-admin']);
    }
    onSubmit(isTriggerBot = false) {
        const reqObj = {
            ...this.conversationForm.value,
            users: [],
            logic: []
        };
        this.userSegments.forEach(userSegment => {
            reqObj.users.push(userSegment.id);
        });
        this.selectedLogic.forEach(logic => {
            reqObj.logic.push(logic.id);
        });
        this.isLoaderShow = true;
        if (this.conversationId) {
            this.uciService.botUpdate(this.conversationId, { data: reqObj }).subscribe(data => {
                this.closeVerifyModal();
                this.isLoaderShow = false;
                this.router.navigate(['uci-admin/success'], { queryParams: { text: reqObj.startingMessage, botId: this.conversationId } });
            }, error => {
                this.isLoaderShow = false;
                this.verifyAllItemsModal = true;
            });
        }
        else {
            this.uciService.botCreate({ data: reqObj }).subscribe((data) => {
                if (isTriggerBot) {
                    this.startConversation(data.data);
                }
                else {
                    this.closeVerifyModal();
                    this.isLoaderShow = false;
                    this.router.navigate(['uci-admin/success'], { queryParams: { text: reqObj.startingMessage, botId: data.data.id } });
                }
            }, error => {
                this.isLoaderShow = false;
                this.verifyAllItemsModal = true;
            });
        }
    }
    startConversation(bot) {
        this.uciService.startConversation(bot.id).subscribe(data => {
            this.isLoaderShow = false;
            this.closeVerifyModal();
            this.router.navigate(['uci-admin/success'], {
                queryParams: {
                    text: this.conversationForm.value.startingMessage,
                    botId: bot.id
                }
            });
        }, error => {
            this.verifyAllItemsModal = true;
            this.isLoaderShow = false;
        });
    }
    closeVerifyModal() {
        if (this.verifyAllModal) {
            this.verifyAllModal.deny('denied');
        }
        this.verifyAllItemsModal = false;
    }
    openModel() {
        this.logicFormRequest = {};
        this.collectionListModal = true;
        this.logicForm.reset();
        this.fileErrorStatus = null;
        this.isStartingMessageExist = false;
    }
    openTermAndConditionModel() {
        this.termsAndConditionModal = true;
    }
    openItemsVerifyModal(isSubmitBtn) {
        this.verifyAllItemsModal = true;
        this.isSubmit = isSubmitBtn;
    }
    onLogicAdd() {
        const reqData = {
            ...this.logicForm.value,
            transformers: [
                {
                    id: 'bbf56981-b8c9-40e9-8067-468c2c753659',
                    meta: {
                        form: 'https://hosted.my.form.here.com',
                        formID: this.logicForm.value.formId
                    }
                }
            ],
            adapter: '44a9df72-3d7a-4ece-94c5-98cf26307324'
        };
        this.isModalLoaderShow = true;
        if (this.logicForm.get('id').value) {
            this.uciService.updateLogic(this.logicForm.get('id').value, { data: reqData }).subscribe((data) => {
                this.isModalLoaderShow = false;
                const existingLogic = reqData;
                delete existingLogic.id;
                this.selectedLogic[this.selectedLogicIndex] = Object.assign(this.selectedLogic[this.selectedLogicIndex], existingLogic);
            }, error => {
                this.isModalLoaderShow = false;
            });
        }
        else {
            this.uciService.createLogic({ data: reqData }).subscribe((data) => {
                this.isModalLoaderShow = false;
                const existingLogic = reqData;
                delete existingLogic.id;
                this.selectedLogic.push({
                    id: data.data.id,
                    ...existingLogic,
                });
            }, error => {
                this.isModalLoaderShow = false;
            });
        }
    }
    getEditLogicData(item, index) {
        if (item.id) {
            this.selectedLogicIndex = index;
            this.logicForm.patchValue({
                id: item.id,
                name: item.name,
                description: item.description,
                formId: item.transformers[0].meta.formID
            });
        }
    }
    onFileUpload(event) {
        if (!event.target.files.length) {
            return;
        }
        const file = event.target.files[0];
        const obj = {
            form: file
        };
        this.logicForm.patchValue({ formId: '' });
        this.isModalLoaderShow = true;
        this.uciService.uploadFile(obj).subscribe((fileInfo) => {
            if (fileInfo.result?.data) {
                this.logicForm.patchValue({ formId: fileInfo.result?.data });
            }
            this.isModalLoaderShow = false;
            this.odkFileAlreadyExist = false;
        }, error => {
            this.isModalLoaderShow = false;
            this.odkFileAlreadyExist = true;
            this.fileErrorStatus = error.error.status;
        });
    }
    onDelete(logic, index) {
        this.uciService.deleteLogic(logic.id).subscribe(file => {
            this.selectedLogic.splice(index, 1);
        });
    }
    getUserSegmentDetail() {
        this.uciService.getBotUserDetails(this.conversationId).subscribe((val) => {
            if (val.data) {
                this.conversationForm.patchValue({
                    name: val.data.name,
                    description: val.data.description,
                    purpose: val.data.purpose,
                    startingMessage: val.data.startingMessage,
                    startDate: val.data.startDate ? val.data.startDate : '',
                    endDate: val.data.endDate ? val.data.endDate : ''
                });
                if (val.data.userSegments) {
                    this.userSegments = val.data.userSegments;
                }
                if (val.data.logic) {
                    this.selectedLogic = val.data.logic;
                }
            }
        });
    }
    allCheck(isAllCheck = false) {
        this.Appropriateness.forEach(val => {
            val.checks = isAllCheck;
        });
        this.contentDetails.forEach(val => {
            val.checks = isAllCheck;
        });
        this.usability.forEach(val => {
            val.checks = isAllCheck;
        });
    }
    onStarringMessageChange() {
        this.uciService.getCheckStartingMessage({ startingMessage: this.conversationForm.value.startingMessage }).subscribe(val => {
            this.isStartingMessageExist = true;
        }, error => {
            this.isStartingMessageExist = false;
        });
    }
    manualDownload() {
        window.open(this.globalService.getBaseUrl() + '/UCI%20_%20ODK%20Instruction%20Manual.pdf', '_blank');
    }
    sampleODKDownload() {
        window.open(this.globalService.getBaseUrl() + '/Sample_ODK.xlsx', '_blank');
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: ConversationAddComponent, deps: [{ token: i1.UciService }, { token: i2.Router }, { token: i2.ActivatedRoute }, { token: i3.UntypedFormBuilder }, { token: i4.GlobalService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: ConversationAddComponent, selector: "lib-conversation-add", viewQueries: [{ propertyName: "verifyAllModal", first: true, predicate: ["verifyAllModal"], descendants: true }], ngImport: i0, template: "<ng-container [ngSwitch]=\"currentViewState\">\n\n    <lib-user-segment-add *ngSwitchCase=\"'ADD_SEGMENT'\"\n                          (cancel)=\"onUserSegmentCancel()\"\n                          (add)=\"onUserSegmentCreate($event)\">\n    </lib-user-segment-add>\n\n    <lib-user-segment-list *ngSwitchCase=\"'SELECT_SEGMENT'\"\n                           (cancel)=\"onUserSegmentCancel()\"\n                           (add)=\"onUserSegmentAdd($event)\"\n                           [selectedUserSegments]=\"userSegments\">\n    </lib-user-segment-list>\n\n    <div *ngSwitchCase=\"'ADD_CONVERSATION'\" class=\"uci-add-container\">\n        <div class=\"ui grid\">\n            <div class=\"six wide column pr-0\">\n                <div class=\"d-flex font-0-75\" style=\"align-items: baseline;\">\n                    <div style=\"width: 30px\">\n                        <button class=\"circular ui icon button\" style=\"width: 100%; font-size: 0.75rem\"\n                                (click)=\"backToStepOne()\"\n                                [ngClass]=\"{'blue-bg-white-text': stepIndex === 1, 'green-bg-white-text': stepIndex === 2}\">\n                            1\n                        </button>\n                    </div>\n                    <div class=\"px-5 pt-10\">Conversation setup</div>\n                    <div class=\"line mt-20 ml-20 mr-20\"></div>\n                    <div style=\"width: 30px\">\n                        <button class=\"circular ui icon button\" style=\"width: 100%; font-size: 0.75rem\"\n                                [ngClass]=\"{'blue-bg-white-text': stepIndex === 2}\">2\n                        </button>\n                    </div>\n                    <div class=\"px-5 pt-10 font-weight-bold\">Conversation flow</div>\n                </div>\n            </div>\n            <div class=\"six wide column\">\n                <ng-container *ngIf=\"stepIndex === 1; else stp2_btn\">\n                    <div class=\"right-floated pt-0\">\n                        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary mr-10\" (click)=\"onAddCancel()\">\n                            Cancel\n                        </button>\n                        <button class=\"sb-btn sb-btn-normal sb-btn-primary\" [disabled]=\"conversationForm.invalid || isStartingMessageExist\"\n                                (click)=\"nextStep()\"> Next\n                        </button>\n                    </div>\n                </ng-container>\n                <ng-template #stp2_btn>\n                    <div class=\"ui grid\">\n                        <div class=\"twelve wide column\">\n                            <div class=\"right-floated pt-0\">\n                                <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary mr-10\" *ngIf=\"!isLoaderShow\"\n                                        (click)=\"backToStepOne()\"> Back\n                                </button>\n                                <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary mr-10\" (click)=\"openItemsVerifyModal(false)\"\n                                        *ngIf=\"!isLoaderShow\">\n                                    Save\n                                </button>\n                                <ng-container *ngIf=\"isLoaderShow; else submitBtn1\">\n                                    <button class=\"sb-btn sb-btn-normal sb-btn-primary p-0\">\n                                        <div class=\"ui active tiny inline loader\"></div>\n                                    </button>\n                                </ng-container>\n                                <ng-template #submitBtn1>\n                                    <button class=\"sb-btn sb-btn-normal sb-btn-primary\"\n                                            [disabled]=\"!isCheckedTermCondition\"\n                                            (click)=\"this.conversationId ? onSubmit(true) : openItemsVerifyModal(true)\">\n                                        {{conversationId ? 'Update' : 'Submit'}}\n                                    </button>\n                                </ng-template>\n\n                            </div>\n                        </div>\n                        <div class=\"twelve wide column pt-0\">\n                            <div class=\"right-floated pt-0\">\n                                <div class=\"ui checkbox\">\n                                    <input type=\"checkbox\" name=\"example\"\n                                           [(ngModel)]=\"isCheckedTermCondition\">\n                                    <label class=\"font-weight-normal t-and-c-title\"\n                                           (click)=\"openTermAndConditionModel()\"> I agree to the required terms and\n                                        conditions </label>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </ng-template>\n\n            </div>\n        </div>\n        <div class=\"step1-wrapper\" *ngIf=\"stepIndex === 1\">\n            <div class=\"ui grid\">\n                <div class=\"ten wide column font-1-2 font-weight-bold\">\n                    Add new conversation\n                </div>\n                <div class=\"ten wide column pt-0\">\n                    <form [formGroup]=\"conversationForm\" class=\"ui form\">\n                        <div class=\"field\">\n                            <label>Conversation name <sup><i class=\"asterisk icon asterisk-color\"></i></sup></label>\n                            <input type=\"text\" name=\"name\" placeholder=\"Enter name\" formControlName=\"name\">\n                        </div>\n                        <div class=\"field\">\n                            <label>Conversation description</label>\n                            <textarea rows=\"5\" name=\"description\" placeholder=\"Enter description\"\n                                      formControlName=\"description\"></textarea>\n                        </div>\n                        <div class=\"field\">\n                            <label>Purpose of the conversation <sup><i\n                                    class=\"asterisk icon asterisk-color\"></i></sup></label>\n                            <input type=\"text\" name=\"name\" placeholder=\"Enter purpose\" formControlName=\"purpose\">\n                        </div>\n                        <div class=\"field\">\n                            <label>Starting message <sup><i class=\"asterisk icon asterisk-color\"></i></sup></label>\n                            <input type=\"text\" name=\"startingMessage\" placeholder=\"Enter message\"\n                                   formControlName=\"startingMessage\">\n                            <small *ngIf=\"isStartingMessageExist\" class=\"text-danger\">This starting message has already been taken</small>\n                        </div>\n                        <div class=\"two fields\">\n                            <div class=\"field\">\n                                <label>Start Date And Time</label>\n                                <div class=\"ui left icon input\">\n                                    <i class=\"calendar icon\"></i>\n                                    <input suiDatepicker\n                                           formControlName=\"startDate\"\n                                           [pickerMode]=\"'datetime'\"\n                                           [pickerMinDate]=\"startMinDate\"\n                                           [pickerUseNativeOnMobile]=\"false\">\n                                </div>\n                            </div>\n                            <div class=\"field\">\n                                <label>End Date And Time</label>\n                                <div class=\"ui left icon input\">\n                                    <i class=\"calendar icon\"></i>\n                                    <input suiDatepicker\n                                           formControlName=\"endDate\"\n                                           [pickerMode]=\"'datetime'\"\n                                           [pickerMinDate]=\"endMinDate\"\n                                           [pickerUseNativeOnMobile]=\"false\">\n                                </div>\n                            </div>\n                        </div>\n\n                    </form>\n                </div>\n            </div>\n            <div class=\"ui divider\"></div>\n            <div class=\"ui grid\">\n                <div class=\"six wide column\">\n                    <h6>User segments</h6>\n                    <p class=\"pt-10\">{{userSegments.length}} segments added</p>\n                </div>\n                <div class=\"six wide column  right aligned\">\n                    <div class=\"pt-0\">\n                        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary mr-10\"\n                                (click)=\"onUserSegmentAddClick()\">\n                            Create new\n                        </button>\n                        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\" (click)=\"userSegment()\">\n                            Choose from existing\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"ui grid\">\n                <ng-container *ngIf=\"userSegments && userSegments.length\">\n                    <div class=\"ui three column grid\">\n                        <div class=\"column\" *ngFor=\"let userSegment of userSegments; let i = index\">\n                            <div class=\"ui fluid card\">\n                                <div class=\"content\">\n                                    <i class=\"right floated icon trash delete-icon\"\n                                       (click)=\"onUserSegmentDelete(i)\"></i>\n                                    {{userSegment.name}}\n                                    <div class=\"meta\">User count {{userSegment.count}}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </ng-container>\n\n            </div>\n        </div>\n\n        <div class=\"step2-wrapper\" *ngIf=\"stepIndex === 2\">\n            <div class=\"ui grid\">\n                <div class=\"ten wide column font-1-2 font-weight-bold\">\n                    Conversation flow\n                </div>\n                <div class=\"two wide column right aligned\">\n                    <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\"\n                            *ngIf=\"selectedLogic && selectedLogic.length\"\n                            (click)=\"openModel()\">\n                        Add Logic\n                    </button>\n                </div>\n            </div>\n            <div class=\"ui grid\">\n                <ng-container *ngIf=\"selectedLogic && selectedLogic.length <= 0; else showTable\">\n                    <div class=\"twelve wide column center aligned\">\n                        <div class=\"pt-0\">\n                            <div class=\"w-25-per text-center\" style=\"margin: auto; padding: 2rem;\">\n                                <div class=\"text-center\">\n                                    <div class=\"text-center\">\n                                        <img alt=\"Search Icon\" src=\"assets/uci-console/images/empty.svg\">\n                                    </div>\n                                    <div class=\"text-center mt-20\">\n                                        No logic Added\n                                    </div>\n                                </div>\n                                <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary mt-10\" (click)=\"openModel()\">\n                                    Add logic\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </ng-container>\n                <ng-template #showTable>\n                    <div class=\"twelve wide column\">\n                        <table class=\"ui table\" style=\"width: 100%\">\n                            <thead>\n                            <tr>\n                                <th class=\"one wide center aligned UpReviewTableHeader sorted bl-0\">\n                                    Step\n                                </th>\n                                <th class=\"three wide UpReviewTableHeader sorted bl-0\">\n                                    Name\n                                </th>\n                                <th class=\"five wide UpReviewTableHeader sorted bl-0\">\n                                    Description\n                                </th>\n                                <th class=\"one wide center aligned UpReviewTableHeader sorted bl-0\">\n                                    Action\n                                </th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            <tr class=\"UpForReviewListHover\"\n                                *ngFor=\"let logic of selectedLogic; let i = index;\">\n                                <td class=\"center aligned\">{{i + 1}}</td>\n                                <td>{{logic?.name}}</td>\n                                <td>{{logic?.description}}</td>\n                                <td class=\"center aligned\">\n                                    <div class=\"ui dropdown\" suiDropdown>\n                                        <i class=\"ellipsis vertical icon ellipsis-icon dropdown\"\n                                        ></i>\n                                        <div class=\"menu\" suiDropdownMenu>\n                                            <div class=\"item\" (click)=\"openModel(); getEditLogicData(logic, i)\">Edit\n                                            </div>\n                                            <div class=\"item\" (click)=\"onDelete(logic, i)\">Delete</div>\n                                        </div>\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<sui-modal *ngIf=\"collectionListModal\" [mustScroll]=\"true\" [isClosable]=\"false\" [transitionDuration]=\"0\"\n           [size]=\"'large'\"\n           class=\"sb-modal\" (dismissed)=\"this.collectionListModal = false;\" #modal>\n    <div class=\"sb-modal-header\">\n        {{logicForm.get('id').value ? ' Update' : 'Add'}} Conversation Logic\n    </div>\n    <div class=\"sb-modal-content\">\n        <form [formGroup]=\"logicForm\" class=\"ui form\">\n            <div class=\"field\">\n                <label>Name <sup><i class=\"asterisk icon asterisk-color\"></i></sup></label>\n                <input type=\"text\" name=\"name\" placeholder=\"Enter name\" formControlName=\"name\">\n            </div>\n            <div class=\"field\">\n                <label>Description</label>\n                <textarea rows=\"3\" name=\"description\" placeholder=\"Enter description\"\n                          formControlName=\"description\"></textarea>\n            </div>\n            <div class=\"field\">\n                <label>\n                    <div class=\"two fields m-0\">\n                        <div class=\"field p-0\">\n                            Upload ODK Form (.xml)<sup><i class=\"asterisk icon asterisk-color\"></i></sup>\n                        </div>\n                        <div class=\"field text-right p-0\">\n                            <a class=\"mx-20 sample-download\" (click)=\"manualDownload()\">Instruction Manual</a>\n                            <a class=\"ml-1 sample-download\" (click)=\"sampleODKDownload()\">Sample ODK Form (.xlsx)</a>\n                        </div>\n                    </div>\n\n                </label>\n                <input type=\"file\" name=\"file\" placeholder=\"Browse XML File...\"\n                       (change)=\"onFileUpload($event)\" accept=\".xml\">\n                <small *ngIf=\"odkFileAlreadyExist\" class=\"text-danger\">{{fileErrorStatus}}</small>\n            </div>\n        </form>\n    </div>\n    <div class=\"sb-modal-actions\">\n        <ng-container *ngIf=\"isModalLoaderShow; else modalBtn\">\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary p-0\">\n                <div class=\"ui active tiny inline loader\"></div>\n            </button>\n        </ng-container>\n        <ng-template #modalBtn>\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary\" (click)=\"onLogicAdd();modal.deny('denied')\"\n                    [disabled]=\"logicForm.invalid\">\n                {{logicForm.get('id').value ? ' Update' : 'Add'}}\n            </button>\n        </ng-template>\n        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\"\n                (click)=\"modal.deny('denied');isModalLoaderShow = false;logicForm.patchValue({formId: ''});\">\n            Cancel\n        </button>\n    </div>\n</sui-modal>\n\n<sui-modal *ngIf=\"termsAndConditionModal\" [mustScroll]=\"true\" [isClosable]=\"false\" [transitionDuration]=\"0\"\n           [size]=\"'large'\"\n           class=\"sb-modal\" (dismissed)=\"this.termsAndConditionModal = false\" #modal>\n    <div class=\"sb-modal-header\">\n        Terms and Conditions\n    </div>\n    <div class=\"sb-modal-content\">\n        <lib-terms-conditions></lib-terms-conditions>\n    </div>\n    <div class=\"sb-modal-actions\">\n        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\"\n                (click)=\"modal.deny('denied');\">\n            Cancel\n        </button>\n    </div>\n</sui-modal>\n<sui-modal *ngIf=\"verifyAllItemsModal\" [mustScroll]=\"true\" [isClosable]=\"false\" [transitionDuration]=\"0\"\n           [size]=\"'large'\"\n           class=\"sb-modal\" (dismissed)=\"this.verifyAllItemsModal = false\" #verifyAllModal>\n    <div class=\"sb-modal-header\">\n        <h4>\n            Please confirm that ALL the following items are verified (by ticking the check-boxes) before you can submit:\n        </h4>\n    </div>\n    <div class=\"sb-modal-content\">\n        <div class=\"ui grid\">\n            <div class=\"four wide column\">\n                <div class=\"mb-20\">\n                    <h4>Appropriateness</h4>\n                    <div class=\"ui divider\"></div>\n                </div>\n                <div class=\"ui grid\" *ngFor=\"let list of Appropriateness; let i = index\">\n                    <div class=\"two wide column pb-0\">\n                        <input type=\"checkbox\" [name]=\"'appropriateness' + i\" [(ngModel)]=\"list.checks\">\n                    </div>\n                    <div class=\"ten wide column pl-0 pb-0 line-height\">\n                        {{list.text}}\n                    </div>\n                </div>\n            </div>\n            <div class=\"four wide column\">\n                <div class=\"mb-20\">\n                    <h4>Content Details</h4>\n                    <div class=\"ui divider\"></div>\n                </div>\n                <div class=\"ui grid\" *ngFor=\"let list of contentDetails; let i = index\">\n                    <div class=\"two wide column pb-0\">\n                        <input type=\"checkbox\" [name]=\"'contentDetails' + i\" [(ngModel)]=\"list.checks\">\n                    </div>\n                    <div class=\"ten wide column pl-0 pb-0 line-height\">\n                        {{list.text}}\n                    </div>\n                </div>\n            </div>\n            <div class=\"four wide column\">\n                <div class=\"mb-20\">\n                    <h4>Usability</h4>\n                    <div class=\"ui divider\"></div>\n                </div>\n                <div class=\"ui grid\" *ngFor=\"let list of usability; let i = index\">\n                    <div class=\"two wide column pb-0\">\n                        <input type=\"checkbox\" [name]=\"'usability' + i\" [(ngModel)]=\"list.checks\">\n                    </div>\n                    <div class=\"ten wide column pl-0 pb-0 line-height\">\n                        {{list.text}}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"sb-modal-actions\">\n        <ng-container *ngIf=\"isLoaderShow; else submitBtn\">\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary p-0\">\n                <div class=\"ui active tiny inline loader\"></div>\n            </button>\n        </ng-container>\n        <ng-template #submitBtn>\n            <button *ngIf=\"isSubmit\" class=\"sb-btn sb-btn-normal sb-btn-primary\"\n                    (click)=\"onSubmit(true);\">\n                Submit\n            </button>\n            <button *ngIf=\"!isSubmit\" class=\"sb-btn sb-btn-normal sb-btn-primary\"\n                    (click)=\"onSubmit(false);\">\n                Save\n            </button>\n        </ng-template>\n        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\"\n                (click)=\"allCheck(false); verifyAllModal.deny('denied');\">\n            Cancel\n        </button>\n        <button class=\"sb-btn sb-btn-normal sb-btn-primary allCheckBtn\" (click)=\"allCheck(true)\">\n            Confirm All\n        </button>\n    </div>\n</sui-modal>\n", styles: [".filter_search{border-radius:25px!important}.ellipsis-icon{font-size:1.2rem}.w-50-px{width:50px!important}.font-1-2{font-size:1.2rem}.ui.form .field>label{font-weight:400}.action-dropdown{top:2px;left:-56px;z-index:2;position:absolute}.action-dropdown .item{cursor:pointer}.action-dropdown .item:hover{background-color:#f6f6f6}.steps{width:20px;height:20px;overflow:hidden;border:1px solid #777777;border-radius:10px;display:flex;align-items:center;justify-content:center;background-color:#e2e2e2;color:#000;margin-right:.7rem;font-size:.75rem}.font-0-75{font-size:.75rem}.line{background-color:#777;width:25%;height:1px}.blue-bg-white-text{background-color:#0c5593!important;color:#fff!important}.green-bg-white-text{background-color:#3c763d!important;color:#fff!important}.w-25-per{width:25%}.delete-icon{color:red;font-size:1.5rem}.delete-icon-sec{display:flex;justify-content:center;align-items:center}button:disabled{background:#89cff0;border-color:#89cff0}.asterisk-color{color:red}.t-and-c-title{cursor:pointer!important}.t-and-c-title:hover{color:#89cff0!important}.sb-modal.ui.modal{box-shadow:none!important}.sb-modal.ui.modal.normal{max-width:45rem;height:0!important}.line-height{line-height:normal}.allCheckBtn{position:absolute;left:1rem}.sample-download{text-decoration:underline!important;cursor:pointer!important}.text-danger{color:red!important}\n"], dependencies: [{ kind: "directive", type: i5.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i5.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i5.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i5.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { kind: "directive", type: i5.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { kind: "directive", type: i3.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i3.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i3.CheckboxControlValueAccessor, selector: "input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]" }, { kind: "directive", type: i3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i3.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i3.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i3.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i3.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "directive", type: i6.SuiRadioManager, selector: "form:not([ngForm]):not([[ngForm]]),ngForm,[ngForm]" }, { kind: "directive", type: i6.SuiDatepickerDirective, selector: "[suiDatepicker]", inputs: ["pickerMode", "pickerInitialDate", "pickerMaxDate", "pickerMinDate", "pickerFirstDayOfWeek", "pickerLocaleOverrides", "pickerPlacement", "pickerTransition", "pickerTransitionDuration"], outputs: ["pickerSelectedDateChange", "pickerValidatorChange"] }, { kind: "directive", type: i6.SuiDatepickerDirectiveValueAccessor, selector: "[suiDatepicker]" }, { kind: "directive", type: i6.SuiDatepickerDirectiveValidator, selector: "[suiDatepicker]" }, { kind: "directive", type: i6.SuiDatepickerInputDirective, selector: "input[suiDatepicker]", inputs: ["pickerUseNativeOnMobile"] }, { kind: "directive", type: i6.SuiDropdown, selector: "[suiDropdown]", inputs: ["isOpen", "isDisabled", "tabindex", "autoClose"], outputs: ["isOpenChange"] }, { kind: "directive", type: i6.SuiDropdownMenu, selector: "[suiDropdownMenu]", inputs: ["menuTransition", "menuTransitionDuration", "menuAutoSelectFirst", "menuSelectedItemClass"] }, { kind: "directive", type: i6.SuiDropdownMenuItem, selector: ".item" }, { kind: "component", type: i6.SuiModal, selector: "sui-modal", inputs: ["isClosable", "closeResult", "size", "isCentered", "isFullScreen", "isBasic", "mustScroll", "isInverted", "transition", "transitionDuration"], outputs: ["approved", "denied", "dismissed"] }, { kind: "component", type: i7.UserSegmentListComponent, selector: "lib-user-segment-list", inputs: ["selectedUserSegments"], outputs: ["cancel", "add"] }, { kind: "component", type: i8.UserSegmentAddComponent, selector: "lib-user-segment-add", outputs: ["cancel", "add"] }, { kind: "component", type: i9.TermsConditionsComponent, selector: "lib-terms-conditions" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: ConversationAddComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-conversation-add', template: "<ng-container [ngSwitch]=\"currentViewState\">\n\n    <lib-user-segment-add *ngSwitchCase=\"'ADD_SEGMENT'\"\n                          (cancel)=\"onUserSegmentCancel()\"\n                          (add)=\"onUserSegmentCreate($event)\">\n    </lib-user-segment-add>\n\n    <lib-user-segment-list *ngSwitchCase=\"'SELECT_SEGMENT'\"\n                           (cancel)=\"onUserSegmentCancel()\"\n                           (add)=\"onUserSegmentAdd($event)\"\n                           [selectedUserSegments]=\"userSegments\">\n    </lib-user-segment-list>\n\n    <div *ngSwitchCase=\"'ADD_CONVERSATION'\" class=\"uci-add-container\">\n        <div class=\"ui grid\">\n            <div class=\"six wide column pr-0\">\n                <div class=\"d-flex font-0-75\" style=\"align-items: baseline;\">\n                    <div style=\"width: 30px\">\n                        <button class=\"circular ui icon button\" style=\"width: 100%; font-size: 0.75rem\"\n                                (click)=\"backToStepOne()\"\n                                [ngClass]=\"{'blue-bg-white-text': stepIndex === 1, 'green-bg-white-text': stepIndex === 2}\">\n                            1\n                        </button>\n                    </div>\n                    <div class=\"px-5 pt-10\">Conversation setup</div>\n                    <div class=\"line mt-20 ml-20 mr-20\"></div>\n                    <div style=\"width: 30px\">\n                        <button class=\"circular ui icon button\" style=\"width: 100%; font-size: 0.75rem\"\n                                [ngClass]=\"{'blue-bg-white-text': stepIndex === 2}\">2\n                        </button>\n                    </div>\n                    <div class=\"px-5 pt-10 font-weight-bold\">Conversation flow</div>\n                </div>\n            </div>\n            <div class=\"six wide column\">\n                <ng-container *ngIf=\"stepIndex === 1; else stp2_btn\">\n                    <div class=\"right-floated pt-0\">\n                        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary mr-10\" (click)=\"onAddCancel()\">\n                            Cancel\n                        </button>\n                        <button class=\"sb-btn sb-btn-normal sb-btn-primary\" [disabled]=\"conversationForm.invalid || isStartingMessageExist\"\n                                (click)=\"nextStep()\"> Next\n                        </button>\n                    </div>\n                </ng-container>\n                <ng-template #stp2_btn>\n                    <div class=\"ui grid\">\n                        <div class=\"twelve wide column\">\n                            <div class=\"right-floated pt-0\">\n                                <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary mr-10\" *ngIf=\"!isLoaderShow\"\n                                        (click)=\"backToStepOne()\"> Back\n                                </button>\n                                <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary mr-10\" (click)=\"openItemsVerifyModal(false)\"\n                                        *ngIf=\"!isLoaderShow\">\n                                    Save\n                                </button>\n                                <ng-container *ngIf=\"isLoaderShow; else submitBtn1\">\n                                    <button class=\"sb-btn sb-btn-normal sb-btn-primary p-0\">\n                                        <div class=\"ui active tiny inline loader\"></div>\n                                    </button>\n                                </ng-container>\n                                <ng-template #submitBtn1>\n                                    <button class=\"sb-btn sb-btn-normal sb-btn-primary\"\n                                            [disabled]=\"!isCheckedTermCondition\"\n                                            (click)=\"this.conversationId ? onSubmit(true) : openItemsVerifyModal(true)\">\n                                        {{conversationId ? 'Update' : 'Submit'}}\n                                    </button>\n                                </ng-template>\n\n                            </div>\n                        </div>\n                        <div class=\"twelve wide column pt-0\">\n                            <div class=\"right-floated pt-0\">\n                                <div class=\"ui checkbox\">\n                                    <input type=\"checkbox\" name=\"example\"\n                                           [(ngModel)]=\"isCheckedTermCondition\">\n                                    <label class=\"font-weight-normal t-and-c-title\"\n                                           (click)=\"openTermAndConditionModel()\"> I agree to the required terms and\n                                        conditions </label>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </ng-template>\n\n            </div>\n        </div>\n        <div class=\"step1-wrapper\" *ngIf=\"stepIndex === 1\">\n            <div class=\"ui grid\">\n                <div class=\"ten wide column font-1-2 font-weight-bold\">\n                    Add new conversation\n                </div>\n                <div class=\"ten wide column pt-0\">\n                    <form [formGroup]=\"conversationForm\" class=\"ui form\">\n                        <div class=\"field\">\n                            <label>Conversation name <sup><i class=\"asterisk icon asterisk-color\"></i></sup></label>\n                            <input type=\"text\" name=\"name\" placeholder=\"Enter name\" formControlName=\"name\">\n                        </div>\n                        <div class=\"field\">\n                            <label>Conversation description</label>\n                            <textarea rows=\"5\" name=\"description\" placeholder=\"Enter description\"\n                                      formControlName=\"description\"></textarea>\n                        </div>\n                        <div class=\"field\">\n                            <label>Purpose of the conversation <sup><i\n                                    class=\"asterisk icon asterisk-color\"></i></sup></label>\n                            <input type=\"text\" name=\"name\" placeholder=\"Enter purpose\" formControlName=\"purpose\">\n                        </div>\n                        <div class=\"field\">\n                            <label>Starting message <sup><i class=\"asterisk icon asterisk-color\"></i></sup></label>\n                            <input type=\"text\" name=\"startingMessage\" placeholder=\"Enter message\"\n                                   formControlName=\"startingMessage\">\n                            <small *ngIf=\"isStartingMessageExist\" class=\"text-danger\">This starting message has already been taken</small>\n                        </div>\n                        <div class=\"two fields\">\n                            <div class=\"field\">\n                                <label>Start Date And Time</label>\n                                <div class=\"ui left icon input\">\n                                    <i class=\"calendar icon\"></i>\n                                    <input suiDatepicker\n                                           formControlName=\"startDate\"\n                                           [pickerMode]=\"'datetime'\"\n                                           [pickerMinDate]=\"startMinDate\"\n                                           [pickerUseNativeOnMobile]=\"false\">\n                                </div>\n                            </div>\n                            <div class=\"field\">\n                                <label>End Date And Time</label>\n                                <div class=\"ui left icon input\">\n                                    <i class=\"calendar icon\"></i>\n                                    <input suiDatepicker\n                                           formControlName=\"endDate\"\n                                           [pickerMode]=\"'datetime'\"\n                                           [pickerMinDate]=\"endMinDate\"\n                                           [pickerUseNativeOnMobile]=\"false\">\n                                </div>\n                            </div>\n                        </div>\n\n                    </form>\n                </div>\n            </div>\n            <div class=\"ui divider\"></div>\n            <div class=\"ui grid\">\n                <div class=\"six wide column\">\n                    <h6>User segments</h6>\n                    <p class=\"pt-10\">{{userSegments.length}} segments added</p>\n                </div>\n                <div class=\"six wide column  right aligned\">\n                    <div class=\"pt-0\">\n                        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary mr-10\"\n                                (click)=\"onUserSegmentAddClick()\">\n                            Create new\n                        </button>\n                        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\" (click)=\"userSegment()\">\n                            Choose from existing\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"ui grid\">\n                <ng-container *ngIf=\"userSegments && userSegments.length\">\n                    <div class=\"ui three column grid\">\n                        <div class=\"column\" *ngFor=\"let userSegment of userSegments; let i = index\">\n                            <div class=\"ui fluid card\">\n                                <div class=\"content\">\n                                    <i class=\"right floated icon trash delete-icon\"\n                                       (click)=\"onUserSegmentDelete(i)\"></i>\n                                    {{userSegment.name}}\n                                    <div class=\"meta\">User count {{userSegment.count}}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </ng-container>\n\n            </div>\n        </div>\n\n        <div class=\"step2-wrapper\" *ngIf=\"stepIndex === 2\">\n            <div class=\"ui grid\">\n                <div class=\"ten wide column font-1-2 font-weight-bold\">\n                    Conversation flow\n                </div>\n                <div class=\"two wide column right aligned\">\n                    <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\"\n                            *ngIf=\"selectedLogic && selectedLogic.length\"\n                            (click)=\"openModel()\">\n                        Add Logic\n                    </button>\n                </div>\n            </div>\n            <div class=\"ui grid\">\n                <ng-container *ngIf=\"selectedLogic && selectedLogic.length <= 0; else showTable\">\n                    <div class=\"twelve wide column center aligned\">\n                        <div class=\"pt-0\">\n                            <div class=\"w-25-per text-center\" style=\"margin: auto; padding: 2rem;\">\n                                <div class=\"text-center\">\n                                    <div class=\"text-center\">\n                                        <img alt=\"Search Icon\" src=\"assets/uci-console/images/empty.svg\">\n                                    </div>\n                                    <div class=\"text-center mt-20\">\n                                        No logic Added\n                                    </div>\n                                </div>\n                                <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary mt-10\" (click)=\"openModel()\">\n                                    Add logic\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </ng-container>\n                <ng-template #showTable>\n                    <div class=\"twelve wide column\">\n                        <table class=\"ui table\" style=\"width: 100%\">\n                            <thead>\n                            <tr>\n                                <th class=\"one wide center aligned UpReviewTableHeader sorted bl-0\">\n                                    Step\n                                </th>\n                                <th class=\"three wide UpReviewTableHeader sorted bl-0\">\n                                    Name\n                                </th>\n                                <th class=\"five wide UpReviewTableHeader sorted bl-0\">\n                                    Description\n                                </th>\n                                <th class=\"one wide center aligned UpReviewTableHeader sorted bl-0\">\n                                    Action\n                                </th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            <tr class=\"UpForReviewListHover\"\n                                *ngFor=\"let logic of selectedLogic; let i = index;\">\n                                <td class=\"center aligned\">{{i + 1}}</td>\n                                <td>{{logic?.name}}</td>\n                                <td>{{logic?.description}}</td>\n                                <td class=\"center aligned\">\n                                    <div class=\"ui dropdown\" suiDropdown>\n                                        <i class=\"ellipsis vertical icon ellipsis-icon dropdown\"\n                                        ></i>\n                                        <div class=\"menu\" suiDropdownMenu>\n                                            <div class=\"item\" (click)=\"openModel(); getEditLogicData(logic, i)\">Edit\n                                            </div>\n                                            <div class=\"item\" (click)=\"onDelete(logic, i)\">Delete</div>\n                                        </div>\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<sui-modal *ngIf=\"collectionListModal\" [mustScroll]=\"true\" [isClosable]=\"false\" [transitionDuration]=\"0\"\n           [size]=\"'large'\"\n           class=\"sb-modal\" (dismissed)=\"this.collectionListModal = false;\" #modal>\n    <div class=\"sb-modal-header\">\n        {{logicForm.get('id').value ? ' Update' : 'Add'}} Conversation Logic\n    </div>\n    <div class=\"sb-modal-content\">\n        <form [formGroup]=\"logicForm\" class=\"ui form\">\n            <div class=\"field\">\n                <label>Name <sup><i class=\"asterisk icon asterisk-color\"></i></sup></label>\n                <input type=\"text\" name=\"name\" placeholder=\"Enter name\" formControlName=\"name\">\n            </div>\n            <div class=\"field\">\n                <label>Description</label>\n                <textarea rows=\"3\" name=\"description\" placeholder=\"Enter description\"\n                          formControlName=\"description\"></textarea>\n            </div>\n            <div class=\"field\">\n                <label>\n                    <div class=\"two fields m-0\">\n                        <div class=\"field p-0\">\n                            Upload ODK Form (.xml)<sup><i class=\"asterisk icon asterisk-color\"></i></sup>\n                        </div>\n                        <div class=\"field text-right p-0\">\n                            <a class=\"mx-20 sample-download\" (click)=\"manualDownload()\">Instruction Manual</a>\n                            <a class=\"ml-1 sample-download\" (click)=\"sampleODKDownload()\">Sample ODK Form (.xlsx)</a>\n                        </div>\n                    </div>\n\n                </label>\n                <input type=\"file\" name=\"file\" placeholder=\"Browse XML File...\"\n                       (change)=\"onFileUpload($event)\" accept=\".xml\">\n                <small *ngIf=\"odkFileAlreadyExist\" class=\"text-danger\">{{fileErrorStatus}}</small>\n            </div>\n        </form>\n    </div>\n    <div class=\"sb-modal-actions\">\n        <ng-container *ngIf=\"isModalLoaderShow; else modalBtn\">\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary p-0\">\n                <div class=\"ui active tiny inline loader\"></div>\n            </button>\n        </ng-container>\n        <ng-template #modalBtn>\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary\" (click)=\"onLogicAdd();modal.deny('denied')\"\n                    [disabled]=\"logicForm.invalid\">\n                {{logicForm.get('id').value ? ' Update' : 'Add'}}\n            </button>\n        </ng-template>\n        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\"\n                (click)=\"modal.deny('denied');isModalLoaderShow = false;logicForm.patchValue({formId: ''});\">\n            Cancel\n        </button>\n    </div>\n</sui-modal>\n\n<sui-modal *ngIf=\"termsAndConditionModal\" [mustScroll]=\"true\" [isClosable]=\"false\" [transitionDuration]=\"0\"\n           [size]=\"'large'\"\n           class=\"sb-modal\" (dismissed)=\"this.termsAndConditionModal = false\" #modal>\n    <div class=\"sb-modal-header\">\n        Terms and Conditions\n    </div>\n    <div class=\"sb-modal-content\">\n        <lib-terms-conditions></lib-terms-conditions>\n    </div>\n    <div class=\"sb-modal-actions\">\n        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\"\n                (click)=\"modal.deny('denied');\">\n            Cancel\n        </button>\n    </div>\n</sui-modal>\n<sui-modal *ngIf=\"verifyAllItemsModal\" [mustScroll]=\"true\" [isClosable]=\"false\" [transitionDuration]=\"0\"\n           [size]=\"'large'\"\n           class=\"sb-modal\" (dismissed)=\"this.verifyAllItemsModal = false\" #verifyAllModal>\n    <div class=\"sb-modal-header\">\n        <h4>\n            Please confirm that ALL the following items are verified (by ticking the check-boxes) before you can submit:\n        </h4>\n    </div>\n    <div class=\"sb-modal-content\">\n        <div class=\"ui grid\">\n            <div class=\"four wide column\">\n                <div class=\"mb-20\">\n                    <h4>Appropriateness</h4>\n                    <div class=\"ui divider\"></div>\n                </div>\n                <div class=\"ui grid\" *ngFor=\"let list of Appropriateness; let i = index\">\n                    <div class=\"two wide column pb-0\">\n                        <input type=\"checkbox\" [name]=\"'appropriateness' + i\" [(ngModel)]=\"list.checks\">\n                    </div>\n                    <div class=\"ten wide column pl-0 pb-0 line-height\">\n                        {{list.text}}\n                    </div>\n                </div>\n            </div>\n            <div class=\"four wide column\">\n                <div class=\"mb-20\">\n                    <h4>Content Details</h4>\n                    <div class=\"ui divider\"></div>\n                </div>\n                <div class=\"ui grid\" *ngFor=\"let list of contentDetails; let i = index\">\n                    <div class=\"two wide column pb-0\">\n                        <input type=\"checkbox\" [name]=\"'contentDetails' + i\" [(ngModel)]=\"list.checks\">\n                    </div>\n                    <div class=\"ten wide column pl-0 pb-0 line-height\">\n                        {{list.text}}\n                    </div>\n                </div>\n            </div>\n            <div class=\"four wide column\">\n                <div class=\"mb-20\">\n                    <h4>Usability</h4>\n                    <div class=\"ui divider\"></div>\n                </div>\n                <div class=\"ui grid\" *ngFor=\"let list of usability; let i = index\">\n                    <div class=\"two wide column pb-0\">\n                        <input type=\"checkbox\" [name]=\"'usability' + i\" [(ngModel)]=\"list.checks\">\n                    </div>\n                    <div class=\"ten wide column pl-0 pb-0 line-height\">\n                        {{list.text}}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"sb-modal-actions\">\n        <ng-container *ngIf=\"isLoaderShow; else submitBtn\">\n            <button class=\"sb-btn sb-btn-normal sb-btn-primary p-0\">\n                <div class=\"ui active tiny inline loader\"></div>\n            </button>\n        </ng-container>\n        <ng-template #submitBtn>\n            <button *ngIf=\"isSubmit\" class=\"sb-btn sb-btn-normal sb-btn-primary\"\n                    (click)=\"onSubmit(true);\">\n                Submit\n            </button>\n            <button *ngIf=\"!isSubmit\" class=\"sb-btn sb-btn-normal sb-btn-primary\"\n                    (click)=\"onSubmit(false);\">\n                Save\n            </button>\n        </ng-template>\n        <button class=\"sb-btn sb-btn-normal sb-btn-outline-primary\"\n                (click)=\"allCheck(false); verifyAllModal.deny('denied');\">\n            Cancel\n        </button>\n        <button class=\"sb-btn sb-btn-normal sb-btn-primary allCheckBtn\" (click)=\"allCheck(true)\">\n            Confirm All\n        </button>\n    </div>\n</sui-modal>\n", styles: [".filter_search{border-radius:25px!important}.ellipsis-icon{font-size:1.2rem}.w-50-px{width:50px!important}.font-1-2{font-size:1.2rem}.ui.form .field>label{font-weight:400}.action-dropdown{top:2px;left:-56px;z-index:2;position:absolute}.action-dropdown .item{cursor:pointer}.action-dropdown .item:hover{background-color:#f6f6f6}.steps{width:20px;height:20px;overflow:hidden;border:1px solid #777777;border-radius:10px;display:flex;align-items:center;justify-content:center;background-color:#e2e2e2;color:#000;margin-right:.7rem;font-size:.75rem}.font-0-75{font-size:.75rem}.line{background-color:#777;width:25%;height:1px}.blue-bg-white-text{background-color:#0c5593!important;color:#fff!important}.green-bg-white-text{background-color:#3c763d!important;color:#fff!important}.w-25-per{width:25%}.delete-icon{color:red;font-size:1.5rem}.delete-icon-sec{display:flex;justify-content:center;align-items:center}button:disabled{background:#89cff0;border-color:#89cff0}.asterisk-color{color:red}.t-and-c-title{cursor:pointer!important}.t-and-c-title:hover{color:#89cff0!important}.sb-modal.ui.modal{box-shadow:none!important}.sb-modal.ui.modal.normal{max-width:45rem;height:0!important}.line-height{line-height:normal}.allCheckBtn{position:absolute;left:1rem}.sample-download{text-decoration:underline!important;cursor:pointer!important}.text-danger{color:red!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.UciService }, { type: i2.Router }, { type: i2.ActivatedRoute }, { type: i3.UntypedFormBuilder }, { type: i4.GlobalService }]; }, propDecorators: { verifyAllModal: [{
                type: ViewChild,
                args: ['verifyAllModal']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udmVyc2F0aW9uLWFkZC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy91Y2ktY29uc29sZS9zcmMvbGliL2NvbXBvbmVudHMvY29udmVyc2F0aW9uLWFkZC9jb252ZXJzYXRpb24tYWRkLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VjaS1jb25zb2xlL3NyYy9saWIvY29tcG9uZW50cy9jb252ZXJzYXRpb24tYWRkL2NvbnZlcnNhdGlvbi1hZGQuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFDLFNBQVMsRUFBVSxTQUFTLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDM0QsT0FBTyxFQUF1QyxVQUFVLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUloRixPQUFPLE1BQU0sTUFBTSxlQUFlLENBQUM7QUFDbkMsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLGdCQUFnQixDQUFDOzs7Ozs7Ozs7OztBQU81QyxNQUFNLE9BQU8sd0JBQXdCO0lBc0ZqQyxZQUNZLFVBQXNCLEVBQ3RCLE1BQWMsRUFDZCxjQUE4QixFQUM5QixFQUFzQixFQUN0QixhQUE0QjtRQUo1QixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBQ3RCLFdBQU0sR0FBTixNQUFNLENBQVE7UUFDZCxtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7UUFDOUIsT0FBRSxHQUFGLEVBQUUsQ0FBb0I7UUFDdEIsa0JBQWEsR0FBYixhQUFhLENBQWU7UUF6RnhDLHFCQUFnQixHQUFHLGtCQUFrQixDQUFDO1FBQ3RDLGNBQVMsR0FBRyxDQUFDLENBQUM7UUFDZCxrQkFBYSxHQUFHLEVBQUUsQ0FBQztRQUNuQixpQkFBWSxHQUFHLEVBQUUsQ0FBQztRQUNsQixXQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ1osa0JBQWEsR0FBRyxFQUFFLENBQUM7UUFDbkIsWUFBTyxHQUFHLEtBQUss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QUF1QjtRQUNuQixJQUFJLENBQUMsVUFBVSxDQUFDLHVCQUF1QixDQUFDLEVBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDcEgsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQztRQUN2QyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUU7WUFDUCxJQUFJLENBQUMsc0JBQXNCLEdBQUcsS0FBSyxDQUFDO1FBQ3hDLENBQUMsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUVELGNBQWM7UUFDVixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxFQUFFLEdBQUcsMkNBQTJDLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDekcsQ0FBQztJQUVELGlCQUFpQjtRQUNiLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxrQkFBa0IsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNoRixDQUFDOytHQTFaUSx3QkFBd0I7bUdBQXhCLHdCQUF3Qiw4S0NkckMsd3VxQkF3WkE7OzRGRDFZYSx3QkFBd0I7a0JBTHBDLFNBQVM7K0JBQ0ksc0JBQXNCO2dOQUtILGNBQWM7c0JBQTFDLFNBQVM7dUJBQUMsZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHtDb21wb25lbnQsIE9uSW5pdCwgVmlld0NoaWxkfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7VW50eXBlZEZvcm1CdWlsZGVyLCBVbnR5cGVkRm9ybUdyb3VwLCBWYWxpZGF0b3JzfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbmltcG9ydCB7R2xvYmFsU2VydmljZX0gZnJvbSAnLi4vLi4vc2VydmljZXMvZ2xvYmFsLnNlcnZpY2UnO1xuaW1wb3J0IHtVY2lTZXJ2aWNlfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91Y2kuc2VydmljZSc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC9tb21lbnQnO1xuaW1wb3J0IHtkZWJvdW5jZVRpbWV9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdsaWItY29udmVyc2F0aW9uLWFkZCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2NvbnZlcnNhdGlvbi1hZGQuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2NvbnZlcnNhdGlvbi1hZGQuY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIENvbnZlcnNhdGlvbkFkZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gICAgQFZpZXdDaGlsZCgndmVyaWZ5QWxsTW9kYWwnKSB2ZXJpZnlBbGxNb2RhbDtcbiAgICBjdXJyZW50Vmlld1N0YXRlID0gJ0FERF9DT05WRVJTQVRJT04nO1xuICAgIHN0ZXBJbmRleCA9IDE7XG4gICAgc2VsZWN0ZWRMb2dpYyA9IFtdO1xuICAgIHVzZXJTZWdtZW50cyA9IFtdO1xuICAgIGNvbHVtbiA9ICcnO1xuICAgIHNvcnREaXJlY3Rpb24gPSAnJztcbiAgICByZXZlcnNlID0gZmFsc2U7XG4gICAgY29sbGVjdGlvbkxpc3RNb2RhbCA9IGZhbHNlO1xuICAgIGlzTG9hZGVyU2hvdyA9IGZhbHNlO1xuICAgIGlzTW9kYWxMb2FkZXJTaG93ID0gZmFsc2U7XG4gICAgbG9naWNGb3JtUmVxdWVzdCA9IHt9O1xuICAgIGlzQ2hlY2tlZFRlcm1Db25kaXRpb24gPSBmYWxzZTtcbiAgICBjb252ZXJzYXRpb25Gb3JtOiBVbnR5cGVkRm9ybUdyb3VwO1xuICAgIGxvZ2ljRm9ybTogVW50eXBlZEZvcm1Hcm91cDtcbiAgICB0ZXJtc0FuZENvbmRpdGlvbk1vZGFsID0gZmFsc2U7XG4gICAgdmVyaWZ5QWxsSXRlbXNNb2RhbCA9IGZhbHNlO1xuICAgIGNvbnZlcnNhdGlvbklkO1xuICAgIHNlbGVjdGVkTG9naWNJbmRleDtcbiAgICBzdGFydE1pbkRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGVuZE1pbkRhdGU7XG4gICAgQXBwcm9wcmlhdGVuZXNzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiAnTm8gSGF0ZSBzcGVlY2gsIEFidXNlLCBWaW9sZW5jZSwgUHJvZmFuaXR5JyxcbiAgICAgICAgICAgIGNoZWNrczogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogJ05vIFNleHVhbCBjb250ZW50LCBOdWRpdHkgb3IgVnVsZ2FyaXR5JyxcbiAgICAgICAgICAgIGNoZWNrczogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogJ05vIERpc2NyaW1pbmF0aW9uIG9yIERlZmFtYXRpb24nLFxuICAgICAgICAgICAgY2hlY2tzOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiAnSXMgc3VpdGFibGUgZm9yIGNoaWxkcmVuJyxcbiAgICAgICAgICAgIGNoZWNrczogZmFsc2VcbiAgICAgICAgfVxuICAgIF07XG4gICAgY29udGVudERldGFpbHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6ICdBcHByb3ByaWF0ZSBUaXRsZSwgRGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgY2hlY2tzOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiAnQ29ycmVjdCBCb2FyZCwgR3JhZGUsIFN1YmplY3QsIE1lZGl1bScsXG4gICAgICAgICAgICBjaGVja3M6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6ICdBcHByb3ByaWF0ZSB0YWdzIHN1Y2ggYXMgUmVzb3VyY2UgVHlwZSwgQ29uY2VwdHMnLFxuICAgICAgICAgICAgY2hlY2tzOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiAnUmVsZXZhbnQga2V5d29yZHMnLFxuICAgICAgICAgICAgY2hlY2tzOiBmYWxzZVxuICAgICAgICB9XG4gICAgXTtcbiAgICB1c2FiaWxpdHkgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6ICdDb250ZW50IHBsYXlzIGNvcnJlY3RseScsXG4gICAgICAgICAgICBjaGVja3M6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6ICdDYW4gc2VlIHRoZSBjb250ZW50IGNsZWFybHkgb24gRGVza3RvcCBhbmQgQXBwJyxcbiAgICAgICAgICAgIGNoZWNrczogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogJ0F1ZGlvIChpZiBhbnkpIGlzIGNsZWFyIGFuZCBlYXN5IHRvIHVuZGVyc3RhbmQnLFxuICAgICAgICAgICAgY2hlY2tzOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiAnTm8gc3BlbGxpbmcgbWlzdGFrZXMgaW4gdGhlIHRleHQnLFxuICAgICAgICAgICAgY2hlY2tzOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiAnTGFuZ3VhZ2UgaXMgc2ltcGxlIHRvIHVuZGVyc3RhbmQnLFxuICAgICAgICAgICAgY2hlY2tzOiBmYWxzZVxuICAgICAgICB9XG4gICAgXTtcbiAgICBpc1N1Ym1pdDogYm9vbGVhbjtcbiAgICBvZGtGaWxlQWxyZWFkeUV4aXN0OiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNTdGFydGluZ01lc3NhZ2VFeGlzdCA9IGZhbHNlO1xuICAgIGZpbGVFcnJvclN0YXR1cztcbiAgICB1c2VyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgdWNpU2VydmljZTogVWNpU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcbiAgICAgICAgcHJpdmF0ZSBhY3RpdmF0ZWRSb3V0ZTogQWN0aXZhdGVkUm91dGUsXG4gICAgICAgIHByaXZhdGUgZmI6IFVudHlwZWRGb3JtQnVpbGRlcixcbiAgICAgICAgcHJpdmF0ZSBnbG9iYWxTZXJ2aWNlOiBHbG9iYWxTZXJ2aWNlXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHRlbXBEYXRlID0gbW9tZW50KCkuYWRkKDEsICdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgICAgIHRoaXMuZW5kTWluRGF0ZSA9IG5ldyBEYXRlKHRlbXBEYXRlKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy51c2VyID0gdGhpcy5nbG9iYWxTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICAgICAgaWYgKCF0aGlzLnVzZXIpIHtcbiAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFsndWNpLWFkbWluJ10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udmVyc2F0aW9uRm9ybSA9IHRoaXMuZmIuZ3JvdXAoe1xuICAgICAgICAgICAgbmFtZTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBbJyddLFxuICAgICAgICAgICAgcHVycG9zZTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgICAgICAgIHN0YXJ0aW5nTWVzc2FnZTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogW251bGxdLFxuICAgICAgICAgICAgZW5kRGF0ZTogW251bGxdLFxuICAgICAgICAgICAgc3RhdHVzOiBbJ0RyYWZ0J11cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5sb2dpY0Zvcm0gPSB0aGlzLmZiLmdyb3VwKHtcbiAgICAgICAgICAgIGlkOiBbbnVsbF0sXG4gICAgICAgICAgICBuYW1lOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFsnJ10sXG4gICAgICAgICAgICBmb3JtSWQ6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRWRpdCBjYXNlXG4gICAgICAgIHRoaXMuY29udmVyc2F0aW9uSWQgPSB0aGlzLmFjdGl2YXRlZFJvdXRlLnNuYXBzaG90LnBhcmFtTWFwLmdldCgnaWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY29udmVyc2F0aW9uSWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0VXNlclNlZ21lbnREZXRhaWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0YXJ0IGRhdGUgYW5kIGVuZCBkYXRlIHZhbHVlIGNoYW5nZVxuICAgICAgICB0aGlzLmNvbnZlcnNhdGlvbkZvcm0uZ2V0KCdzdGFydERhdGUnKS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKHZhbCA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbnZlcnNhdGlvbkZvcm0uZ2V0KCdlbmREYXRlJykucGF0Y2hWYWx1ZShudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBEYXRlID0gbW9tZW50KHZhbCkuYWRkKDEsICdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgICAgICAgICB0aGlzLmVuZE1pbkRhdGUgPSBuZXcgRGF0ZSh0ZW1wRGF0ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY29udmVyc2F0aW9uRm9ybS5nZXQoJ3N0YXJ0aW5nTWVzc2FnZScpLnZhbHVlQ2hhbmdlc1xuICAgICAgICAgICAgLnBpcGUoZGVib3VuY2VUaW1lKDEwMDApKVxuICAgICAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICB2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25TdGFycmluZ01lc3NhZ2VDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIHVzZXJTZWdtZW50KCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRWaWV3U3RhdGUgPSAnU0VMRUNUX1NFR01FTlQnO1xuICAgIH1cblxuICAgIG9uVXNlclNlZ21lbnRDYW5jZWwoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFZpZXdTdGF0ZSA9ICdBRERfQ09OVkVSU0FUSU9OJztcbiAgICB9XG5cbiAgICBvblVzZXJTZWdtZW50QWRkQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFZpZXdTdGF0ZSA9ICdBRERfU0VHTUVOVCc7XG4gICAgfVxuXG4gICAgb25Vc2VyU2VnbWVudEFkZChzZWdtZW50cykge1xuICAgICAgICB0aGlzLnVzZXJTZWdtZW50cyA9IHNlZ21lbnRzO1xuICAgICAgICB0aGlzLmN1cnJlbnRWaWV3U3RhdGUgPSAnQUREX0NPTlZFUlNBVElPTic7XG4gICAgfVxuXG4gICAgb25Vc2VyU2VnbWVudENyZWF0ZShzZWdtZW50KSB7XG4gICAgICAgIHRoaXMudXNlclNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgIHRoaXMuY3VycmVudFZpZXdTdGF0ZSA9ICdBRERfQ09OVkVSU0FUSU9OJztcbiAgICB9XG5cbiAgICBvblVzZXJTZWdtZW50RGVsZXRlKGluZGV4KSB7XG4gICAgICAgIHRoaXMudXNlclNlZ21lbnRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgbmV4dFN0ZXAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0ZXBJbmRleCA9PT0gMSAmJiB0aGlzLmNvbnZlcnNhdGlvbkZvcm0udmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RlcEluZGV4ID0gMjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJhY2tUb1N0ZXBPbmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0ZXBJbmRleCA9PT0gMikge1xuICAgICAgICAgICAgdGhpcy5zdGVwSW5kZXggPSAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25BZGRDYW5jZWwoKSB7XG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFsndWNpLWFkbWluJ10pO1xuICAgIH1cblxuICAgIG9uU3VibWl0KGlzVHJpZ2dlckJvdCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHJlcU9iaiA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuY29udmVyc2F0aW9uRm9ybS52YWx1ZSxcbiAgICAgICAgICAgIHVzZXJzOiBbXSxcbiAgICAgICAgICAgIGxvZ2ljOiBbXVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVzZXJTZWdtZW50cy5mb3JFYWNoKHVzZXJTZWdtZW50ID0+IHtcbiAgICAgICAgICAgIHJlcU9iai51c2Vycy5wdXNoKHVzZXJTZWdtZW50LmlkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRMb2dpYy5mb3JFYWNoKGxvZ2ljID0+IHtcbiAgICAgICAgICAgIHJlcU9iai5sb2dpYy5wdXNoKGxvZ2ljLmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5pc0xvYWRlclNob3cgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbnZlcnNhdGlvbklkKSB7XG4gICAgICAgICAgICB0aGlzLnVjaVNlcnZpY2UuYm90VXBkYXRlKHRoaXMuY29udmVyc2F0aW9uSWQsIHtkYXRhOiByZXFPYmp9KS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VWZXJpZnlNb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGVyU2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJ3VjaS1hZG1pbi9zdWNjZXNzJ10sIHtxdWVyeVBhcmFtczoge3RleHQ6IHJlcU9iai5zdGFydGluZ01lc3NhZ2UsIGJvdElkOiB0aGlzLmNvbnZlcnNhdGlvbklkfX0pO1xuICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRlclNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZXJpZnlBbGxJdGVtc01vZGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51Y2lTZXJ2aWNlLmJvdENyZWF0ZSh7ZGF0YTogcmVxT2JqfSkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVHJpZ2dlckJvdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydENvbnZlcnNhdGlvbihkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVZlcmlmeU1vZGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGVyU2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWyd1Y2ktYWRtaW4vc3VjY2VzcyddLCB7cXVlcnlQYXJhbXM6IHt0ZXh0OiByZXFPYmouc3RhcnRpbmdNZXNzYWdlLCBib3RJZDogZGF0YS5kYXRhLmlkfX0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkZXJTaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVyaWZ5QWxsSXRlbXNNb2RhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0Q29udmVyc2F0aW9uKGJvdCkge1xuICAgICAgICB0aGlzLnVjaVNlcnZpY2Uuc3RhcnRDb252ZXJzYXRpb24oYm90LmlkKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGVyU2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VWZXJpZnlNb2RhbCgpO1xuICAgICAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFsndWNpLWFkbWluL3N1Y2Nlc3MnXSwge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeVBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5jb252ZXJzYXRpb25Gb3JtLnZhbHVlLnN0YXJ0aW5nTWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdElkOiBib3QuaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmVyaWZ5QWxsSXRlbXNNb2RhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRlclNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjbG9zZVZlcmlmeU1vZGFsKCkge1xuICAgICAgICBpZiAodGhpcy52ZXJpZnlBbGxNb2RhbCkge1xuICAgICAgICAgICAgdGhpcy52ZXJpZnlBbGxNb2RhbC5kZW55KCdkZW5pZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZlcmlmeUFsbEl0ZW1zTW9kYWwgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvcGVuTW9kZWwoKSB7XG4gICAgICAgIHRoaXMubG9naWNGb3JtUmVxdWVzdCA9IHt9O1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb25MaXN0TW9kYWwgPSB0cnVlO1xuICAgICAgICB0aGlzLmxvZ2ljRm9ybS5yZXNldCgpO1xuICAgICAgICB0aGlzLmZpbGVFcnJvclN0YXR1cyA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNTdGFydGluZ01lc3NhZ2VFeGlzdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG9wZW5UZXJtQW5kQ29uZGl0aW9uTW9kZWwoKSB7XG4gICAgICAgIHRoaXMudGVybXNBbmRDb25kaXRpb25Nb2RhbCA9IHRydWU7XG4gICAgfVxuXG4gICAgb3Blbkl0ZW1zVmVyaWZ5TW9kYWwoaXNTdWJtaXRCdG46IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy52ZXJpZnlBbGxJdGVtc01vZGFsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pc1N1Ym1pdCA9IGlzU3VibWl0QnRuO1xuICAgIH1cblxuICAgIG9uTG9naWNBZGQoKSB7XG4gICAgICAgIGNvbnN0IHJlcURhdGEgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmxvZ2ljRm9ybS52YWx1ZSxcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdiYmY1Njk4MS1iOGM5LTQwZTktODA2Ny00NjhjMmM3NTM2NTknLFxuICAgICAgICAgICAgICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtOiAnaHR0cHM6Ly9ob3N0ZWQubXkuZm9ybS5oZXJlLmNvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtSUQ6IHRoaXMubG9naWNGb3JtLnZhbHVlLmZvcm1JZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGFkYXB0ZXI6ICc0NGE5ZGY3Mi0zZDdhLTRlY2UtOTRjNS05OGNmMjYzMDczMjQnXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5pc01vZGFsTG9hZGVyU2hvdyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmxvZ2ljRm9ybS5nZXQoJ2lkJykudmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudWNpU2VydmljZS51cGRhdGVMb2dpYyh0aGlzLmxvZ2ljRm9ybS5nZXQoJ2lkJykudmFsdWUsIHtkYXRhOiByZXFEYXRhfSkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc01vZGFsTG9hZGVyU2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0xvZ2ljID0gcmVxRGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGV4aXN0aW5nTG9naWMuaWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMb2dpY1t0aGlzLnNlbGVjdGVkTG9naWNJbmRleF0gPSBPYmplY3QuYXNzaWduKHRoaXMuc2VsZWN0ZWRMb2dpY1t0aGlzLnNlbGVjdGVkTG9naWNJbmRleF0sIGV4aXN0aW5nTG9naWMpO1xuICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc01vZGFsTG9hZGVyU2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVjaVNlcnZpY2UuY3JlYXRlTG9naWMoe2RhdGE6IHJlcURhdGF9KS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTW9kYWxMb2FkZXJTaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nTG9naWMgPSByZXFEYXRhO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZXhpc3RpbmdMb2dpYy5pZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExvZ2ljLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRhdGEuZGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nTG9naWMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc01vZGFsTG9hZGVyU2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGdldEVkaXRMb2dpY0RhdGEoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGl0ZW0uaWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMb2dpY0luZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICB0aGlzLmxvZ2ljRm9ybS5wYXRjaFZhbHVlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGl0ZW0uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIGZvcm1JZDogaXRlbS50cmFuc2Zvcm1lcnNbMF0ubWV0YS5mb3JtSURcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25GaWxlVXBsb2FkKGV2ZW50KSB7XG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07XG4gICAgICAgIGNvbnN0IG9iaiA9IHtcbiAgICAgICAgICAgIGZvcm06IGZpbGVcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5sb2dpY0Zvcm0ucGF0Y2hWYWx1ZSh7Zm9ybUlkOiAnJ30pO1xuICAgICAgICB0aGlzLmlzTW9kYWxMb2FkZXJTaG93ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51Y2lTZXJ2aWNlLnVwbG9hZEZpbGUob2JqKS5zdWJzY3JpYmUoKGZpbGVJbmZvOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZUluZm8ucmVzdWx0Py5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9naWNGb3JtLnBhdGNoVmFsdWUoe2Zvcm1JZDogZmlsZUluZm8ucmVzdWx0Py5kYXRhfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuaXNNb2RhbExvYWRlclNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLm9ka0ZpbGVBbHJlYWR5RXhpc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTW9kYWxMb2FkZXJTaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5vZGtGaWxlQWxyZWFkeUV4aXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVFcnJvclN0YXR1cyA9IGVycm9yLmVycm9yLnN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBvbkRlbGV0ZShsb2dpYywgaW5kZXgpIHtcbiAgICAgICAgdGhpcy51Y2lTZXJ2aWNlLmRlbGV0ZUxvZ2ljKGxvZ2ljLmlkKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICBmaWxlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9naWMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRVc2VyU2VnbWVudERldGFpbCgpIHtcbiAgICAgICAgdGhpcy51Y2lTZXJ2aWNlLmdldEJvdFVzZXJEZXRhaWxzKHRoaXMuY29udmVyc2F0aW9uSWQpLnN1YnNjcmliZSgodmFsOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWwuZGF0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udmVyc2F0aW9uRm9ybS5wYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdmFsLmRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHZhbC5kYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBwdXJwb3NlOiB2YWwuZGF0YS5wdXJwb3NlLFxuICAgICAgICAgICAgICAgICAgICBzdGFydGluZ01lc3NhZ2U6IHZhbC5kYXRhLnN0YXJ0aW5nTWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiB2YWwuZGF0YS5zdGFydERhdGUgPyB2YWwuZGF0YS5zdGFydERhdGUgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZTogdmFsLmRhdGEuZW5kRGF0ZSA/IHZhbC5kYXRhLmVuZERhdGUgOiAnJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh2YWwuZGF0YS51c2VyU2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyU2VnbWVudHMgPSB2YWwuZGF0YS51c2VyU2VnbWVudHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2YWwuZGF0YS5sb2dpYykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9naWMgPSB2YWwuZGF0YS5sb2dpYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFsbENoZWNrKGlzQWxsQ2hlY2s6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICB0aGlzLkFwcHJvcHJpYXRlbmVzcy5mb3JFYWNoKHZhbCA9PiB7XG4gICAgICAgICAgICB2YWwuY2hlY2tzID0gaXNBbGxDaGVjaztcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29udGVudERldGFpbHMuZm9yRWFjaCh2YWwgPT4ge1xuICAgICAgICAgICAgdmFsLmNoZWNrcyA9IGlzQWxsQ2hlY2s7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVzYWJpbGl0eS5mb3JFYWNoKHZhbCA9PiB7XG4gICAgICAgICAgICB2YWwuY2hlY2tzID0gaXNBbGxDaGVjaztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25TdGFycmluZ01lc3NhZ2VDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMudWNpU2VydmljZS5nZXRDaGVja1N0YXJ0aW5nTWVzc2FnZSh7c3RhcnRpbmdNZXNzYWdlOiB0aGlzLmNvbnZlcnNhdGlvbkZvcm0udmFsdWUuc3RhcnRpbmdNZXNzYWdlfSkuc3Vic2NyaWJlKHZhbCA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzU3RhcnRpbmdNZXNzYWdlRXhpc3QgPSB0cnVlO1xuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzU3RhcnRpbmdNZXNzYWdlRXhpc3QgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBtYW51YWxEb3dubG9hZCgpIHtcbiAgICAgICAgd2luZG93Lm9wZW4odGhpcy5nbG9iYWxTZXJ2aWNlLmdldEJhc2VVcmwoKSArICcvVUNJJTIwXyUyME9ESyUyMEluc3RydWN0aW9uJTIwTWFudWFsLnBkZicsICdfYmxhbmsnKTtcbiAgICB9XG5cbiAgICBzYW1wbGVPREtEb3dubG9hZCgpIHtcbiAgICAgICAgd2luZG93Lm9wZW4odGhpcy5nbG9iYWxTZXJ2aWNlLmdldEJhc2VVcmwoKSArICcvU2FtcGxlX09ESy54bHN4JywgJ19ibGFuaycpO1xuICAgIH1cbn1cbiIsIjxuZy1jb250YWluZXIgW25nU3dpdGNoXT1cImN1cnJlbnRWaWV3U3RhdGVcIj5cblxuICAgIDxsaWItdXNlci1zZWdtZW50LWFkZCAqbmdTd2l0Y2hDYXNlPVwiJ0FERF9TRUdNRU5UJ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChjYW5jZWwpPVwib25Vc2VyU2VnbWVudENhbmNlbCgpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGFkZCk9XCJvblVzZXJTZWdtZW50Q3JlYXRlKCRldmVudClcIj5cbiAgICA8L2xpYi11c2VyLXNlZ21lbnQtYWRkPlxuXG4gICAgPGxpYi11c2VyLXNlZ21lbnQtbGlzdCAqbmdTd2l0Y2hDYXNlPVwiJ1NFTEVDVF9TRUdNRU5UJ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAoY2FuY2VsKT1cIm9uVXNlclNlZ21lbnRDYW5jZWwoKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAoYWRkKT1cIm9uVXNlclNlZ21lbnRBZGQoJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBbc2VsZWN0ZWRVc2VyU2VnbWVudHNdPVwidXNlclNlZ21lbnRzXCI+XG4gICAgPC9saWItdXNlci1zZWdtZW50LWxpc3Q+XG5cbiAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9XCInQUREX0NPTlZFUlNBVElPTidcIiBjbGFzcz1cInVjaS1hZGQtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ1aSBncmlkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2l4IHdpZGUgY29sdW1uIHByLTBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGZvbnQtMC03NVwiIHN0eWxlPVwiYWxpZ24taXRlbXM6IGJhc2VsaW5lO1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6IDMwcHhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjaXJjdWxhciB1aSBpY29uIGJ1dHRvblwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGZvbnQtc2l6ZTogMC43NXJlbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJiYWNrVG9TdGVwT25lKClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7J2JsdWUtYmctd2hpdGUtdGV4dCc6IHN0ZXBJbmRleCA9PT0gMSwgJ2dyZWVuLWJnLXdoaXRlLXRleHQnOiBzdGVwSW5kZXggPT09IDJ9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHgtNSBwdC0xMFwiPkNvbnZlcnNhdGlvbiBzZXR1cDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGluZSBtdC0yMCBtbC0yMCBtci0yMFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6IDMwcHhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjaXJjdWxhciB1aSBpY29uIGJ1dHRvblwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGZvbnQtc2l6ZTogMC43NXJlbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsnYmx1ZS1iZy13aGl0ZS10ZXh0Jzogc3RlcEluZGV4ID09PSAyfVwiPjJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInB4LTUgcHQtMTAgZm9udC13ZWlnaHQtYm9sZFwiPkNvbnZlcnNhdGlvbiBmbG93PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaXggd2lkZSBjb2x1bW5cIj5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwic3RlcEluZGV4ID09PSAxOyBlbHNlIHN0cDJfYnRuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1mbG9hdGVkIHB0LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzYi1idG4gc2ItYnRuLW5vcm1hbCBzYi1idG4tb3V0bGluZS1wcmltYXJ5IG1yLTEwXCIgKGNsaWNrKT1cIm9uQWRkQ2FuY2VsKClcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNiLWJ0biBzYi1idG4tbm9ybWFsIHNiLWJ0bi1wcmltYXJ5XCIgW2Rpc2FibGVkXT1cImNvbnZlcnNhdGlvbkZvcm0uaW52YWxpZCB8fCBpc1N0YXJ0aW5nTWVzc2FnZUV4aXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm5leHRTdGVwKClcIj4gTmV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjc3RwMl9idG4+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aSBncmlkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidHdlbHZlIHdpZGUgY29sdW1uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LWZsb2F0ZWQgcHQtMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2ItYnRuIHNiLWJ0bi1ub3JtYWwgc2ItYnRuLW91dGxpbmUtcHJpbWFyeSBtci0xMFwiICpuZ0lmPVwiIWlzTG9hZGVyU2hvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImJhY2tUb1N0ZXBPbmUoKVwiPiBCYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2ItYnRuIHNiLWJ0bi1ub3JtYWwgc2ItYnRuLW91dGxpbmUtcHJpbWFyeSBtci0xMFwiIChjbGljayk9XCJvcGVuSXRlbXNWZXJpZnlNb2RhbChmYWxzZSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiIWlzTG9hZGVyU2hvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2F2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImlzTG9hZGVyU2hvdzsgZWxzZSBzdWJtaXRCdG4xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2ItYnRuIHNiLWJ0bi1ub3JtYWwgc2ItYnRuLXByaW1hcnkgcC0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVpIGFjdGl2ZSB0aW55IGlubGluZSBsb2FkZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNzdWJtaXRCdG4xPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNiLWJ0biBzYi1idG4tbm9ybWFsIHNiLWJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cIiFpc0NoZWNrZWRUZXJtQ29uZGl0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInRoaXMuY29udmVyc2F0aW9uSWQgPyBvblN1Ym1pdCh0cnVlKSA6IG9wZW5JdGVtc1ZlcmlmeU1vZGFsKHRydWUpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3tjb252ZXJzYXRpb25JZCA/ICdVcGRhdGUnIDogJ1N1Ym1pdCd9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInR3ZWx2ZSB3aWRlIGNvbHVtbiBwdC0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LWZsb2F0ZWQgcHQtMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidWkgY2hlY2tib3hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiZXhhbXBsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJpc0NoZWNrZWRUZXJtQ29uZGl0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb250LXdlaWdodC1ub3JtYWwgdC1hbmQtYy10aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9wZW5UZXJtQW5kQ29uZGl0aW9uTW9kZWwoKVwiPiBJIGFncmVlIHRvIHRoZSByZXF1aXJlZCB0ZXJtcyBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25zIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXAxLXdyYXBwZXJcIiAqbmdJZj1cInN0ZXBJbmRleCA9PT0gMVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVpIGdyaWRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGVuIHdpZGUgY29sdW1uIGZvbnQtMS0yIGZvbnQtd2VpZ2h0LWJvbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgQWRkIG5ldyBjb252ZXJzYXRpb25cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGVuIHdpZGUgY29sdW1uIHB0LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGZvcm0gW2Zvcm1Hcm91cF09XCJjb252ZXJzYXRpb25Gb3JtXCIgY2xhc3M9XCJ1aSBmb3JtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+Q29udmVyc2F0aW9uIG5hbWUgPHN1cD48aSBjbGFzcz1cImFzdGVyaXNrIGljb24gYXN0ZXJpc2stY29sb3JcIj48L2k+PC9zdXA+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibmFtZVwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgbmFtZVwiIGZvcm1Db250cm9sTmFtZT1cIm5hbWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkNvbnZlcnNhdGlvbiBkZXNjcmlwdGlvbjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIHJvd3M9XCI1XCIgbmFtZT1cImRlc2NyaXB0aW9uXCIgcGxhY2Vob2xkZXI9XCJFbnRlciBkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImRlc2NyaXB0aW9uXCI+PC90ZXh0YXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlB1cnBvc2Ugb2YgdGhlIGNvbnZlcnNhdGlvbiA8c3VwPjxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImFzdGVyaXNrIGljb24gYXN0ZXJpc2stY29sb3JcIj48L2k+PC9zdXA+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibmFtZVwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgcHVycG9zZVwiIGZvcm1Db250cm9sTmFtZT1cInB1cnBvc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlN0YXJ0aW5nIG1lc3NhZ2UgPHN1cD48aSBjbGFzcz1cImFzdGVyaXNrIGljb24gYXN0ZXJpc2stY29sb3JcIj48L2k+PC9zdXA+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwic3RhcnRpbmdNZXNzYWdlXCIgcGxhY2Vob2xkZXI9XCJFbnRlciBtZXNzYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwic3RhcnRpbmdNZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsICpuZ0lmPVwiaXNTdGFydGluZ01lc3NhZ2VFeGlzdFwiIGNsYXNzPVwidGV4dC1kYW5nZXJcIj5UaGlzIHN0YXJ0aW5nIG1lc3NhZ2UgaGFzIGFscmVhZHkgYmVlbiB0YWtlbjwvc21hbGw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0d28gZmllbGRzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5TdGFydCBEYXRlIEFuZCBUaW1lPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVpIGxlZnQgaWNvbiBpbnB1dFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJjYWxlbmRhciBpY29uXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHN1aURhdGVwaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJzdGFydERhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwaWNrZXJNb2RlXT1cIidkYXRldGltZSdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwaWNrZXJNaW5EYXRlXT1cInN0YXJ0TWluRGF0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3BpY2tlclVzZU5hdGl2ZU9uTW9iaWxlXT1cImZhbHNlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+RW5kIERhdGUgQW5kIFRpbWU8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidWkgbGVmdCBpY29uIGlucHV0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImNhbGVuZGFyIGljb25cIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgc3VpRGF0ZXBpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImVuZERhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwaWNrZXJNb2RlXT1cIidkYXRldGltZSdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwaWNrZXJNaW5EYXRlXT1cImVuZE1pbkRhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtwaWNrZXJVc2VOYXRpdmVPbk1vYmlsZV09XCJmYWxzZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVpIGRpdmlkZXJcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aSBncmlkXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNpeCB3aWRlIGNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgICA8aDY+VXNlciBzZWdtZW50czwvaDY+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicHQtMTBcIj57e3VzZXJTZWdtZW50cy5sZW5ndGh9fSBzZWdtZW50cyBhZGRlZDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2l4IHdpZGUgY29sdW1uICByaWdodCBhbGlnbmVkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdC0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2ItYnRuIHNiLWJ0bi1ub3JtYWwgc2ItYnRuLW91dGxpbmUtcHJpbWFyeSBtci0xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvblVzZXJTZWdtZW50QWRkQ2xpY2soKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBuZXdcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNiLWJ0biBzYi1idG4tbm9ybWFsIHNiLWJ0bi1vdXRsaW5lLXByaW1hcnlcIiAoY2xpY2spPVwidXNlclNlZ21lbnQoKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENob29zZSBmcm9tIGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aSBncmlkXCI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInVzZXJTZWdtZW50cyAmJiB1c2VyU2VnbWVudHMubGVuZ3RoXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aSB0aHJlZSBjb2x1bW4gZ3JpZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbHVtblwiICpuZ0Zvcj1cImxldCB1c2VyU2VnbWVudCBvZiB1c2VyU2VnbWVudHM7IGxldCBpID0gaW5kZXhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidWkgZmx1aWQgY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJyaWdodCBmbG9hdGVkIGljb24gdHJhc2ggZGVsZXRlLWljb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uVXNlclNlZ21lbnREZWxldGUoaSlcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7e3VzZXJTZWdtZW50Lm5hbWV9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldGFcIj5Vc2VyIGNvdW50IHt7dXNlclNlZ21lbnQuY291bnR9fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwMi13cmFwcGVyXCIgKm5nSWY9XCJzdGVwSW5kZXggPT09IDJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aSBncmlkXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRlbiB3aWRlIGNvbHVtbiBmb250LTEtMiBmb250LXdlaWdodC1ib2xkXCI+XG4gICAgICAgICAgICAgICAgICAgIENvbnZlcnNhdGlvbiBmbG93XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInR3byB3aWRlIGNvbHVtbiByaWdodCBhbGlnbmVkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzYi1idG4gc2ItYnRuLW5vcm1hbCBzYi1idG4tb3V0bGluZS1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cInNlbGVjdGVkTG9naWMgJiYgc2VsZWN0ZWRMb2dpYy5sZW5ndGhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvcGVuTW9kZWwoKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQWRkIExvZ2ljXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidWkgZ3JpZFwiPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJzZWxlY3RlZExvZ2ljICYmIHNlbGVjdGVkTG9naWMubGVuZ3RoIDw9IDA7IGVsc2Ugc2hvd1RhYmxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0d2VsdmUgd2lkZSBjb2x1bW4gY2VudGVyIGFsaWduZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwdC0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctMjUtcGVyIHRleHQtY2VudGVyXCIgc3R5bGU9XCJtYXJnaW46IGF1dG87IHBhZGRpbmc6IDJyZW07XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBhbHQ9XCJTZWFyY2ggSWNvblwiIHNyYz1cImFzc2V0cy91Y2ktY29uc29sZS9pbWFnZXMvZW1wdHkuc3ZnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBtdC0yMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vIGxvZ2ljIEFkZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzYi1idG4gc2ItYnRuLW5vcm1hbCBzYi1idG4tb3V0bGluZS1wcmltYXJ5IG10LTEwXCIgKGNsaWNrKT1cIm9wZW5Nb2RlbCgpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgbG9naWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNzaG93VGFibGU+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0d2VsdmUgd2lkZSBjb2x1bW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cInVpIHRhYmxlXCIgc3R5bGU9XCJ3aWR0aDogMTAwJVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cIm9uZSB3aWRlIGNlbnRlciBhbGlnbmVkIFVwUmV2aWV3VGFibGVIZWFkZXIgc29ydGVkIGJsLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGhyZWUgd2lkZSBVcFJldmlld1RhYmxlSGVhZGVyIHNvcnRlZCBibC0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cImZpdmUgd2lkZSBVcFJldmlld1RhYmxlSGVhZGVyIHNvcnRlZCBibC0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJvbmUgd2lkZSBjZW50ZXIgYWxpZ25lZCBVcFJldmlld1RhYmxlSGVhZGVyIHNvcnRlZCBibC0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cIlVwRm9yUmV2aWV3TGlzdEhvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGxvZ2ljIG9mIHNlbGVjdGVkTG9naWM7IGxldCBpID0gaW5kZXg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImNlbnRlciBhbGlnbmVkXCI+e3tpICsgMX19PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7bG9naWM/Lm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e2xvZ2ljPy5kZXNjcmlwdGlvbn19PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwiY2VudGVyIGFsaWduZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aSBkcm9wZG93blwiIHN1aURyb3Bkb3duPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZWxsaXBzaXMgdmVydGljYWwgaWNvbiBlbGxpcHNpcy1pY29uIGRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZW51XCIgc3VpRHJvcGRvd25NZW51PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbVwiIChjbGljayk9XCJvcGVuTW9kZWwoKTsgZ2V0RWRpdExvZ2ljRGF0YShsb2dpYywgaSlcIj5FZGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbVwiIChjbGljayk9XCJvbkRlbGV0ZShsb2dpYywgaSlcIj5EZWxldGU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L25nLWNvbnRhaW5lcj5cblxuPHN1aS1tb2RhbCAqbmdJZj1cImNvbGxlY3Rpb25MaXN0TW9kYWxcIiBbbXVzdFNjcm9sbF09XCJ0cnVlXCIgW2lzQ2xvc2FibGVdPVwiZmFsc2VcIiBbdHJhbnNpdGlvbkR1cmF0aW9uXT1cIjBcIlxuICAgICAgICAgICBbc2l6ZV09XCInbGFyZ2UnXCJcbiAgICAgICAgICAgY2xhc3M9XCJzYi1tb2RhbFwiIChkaXNtaXNzZWQpPVwidGhpcy5jb2xsZWN0aW9uTGlzdE1vZGFsID0gZmFsc2U7XCIgI21vZGFsPlxuICAgIDxkaXYgY2xhc3M9XCJzYi1tb2RhbC1oZWFkZXJcIj5cbiAgICAgICAge3tsb2dpY0Zvcm0uZ2V0KCdpZCcpLnZhbHVlID8gJyBVcGRhdGUnIDogJ0FkZCd9fSBDb252ZXJzYXRpb24gTG9naWNcbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwic2ItbW9kYWwtY29udGVudFwiPlxuICAgICAgICA8Zm9ybSBbZm9ybUdyb3VwXT1cImxvZ2ljRm9ybVwiIGNsYXNzPVwidWkgZm9ybVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsPk5hbWUgPHN1cD48aSBjbGFzcz1cImFzdGVyaXNrIGljb24gYXN0ZXJpc2stY29sb3JcIj48L2k+PC9zdXA+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibmFtZVwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgbmFtZVwiIGZvcm1Db250cm9sTmFtZT1cIm5hbWVcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsPkRlc2NyaXB0aW9uPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgcm93cz1cIjNcIiBuYW1lPVwiZGVzY3JpcHRpb25cIiBwbGFjZWhvbGRlcj1cIkVudGVyIGRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiZGVzY3JpcHRpb25cIj48L3RleHRhcmVhPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmllbGRcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0d28gZmllbGRzIG0tMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkIHAtMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwbG9hZCBPREsgRm9ybSAoLnhtbCk8c3VwPjxpIGNsYXNzPVwiYXN0ZXJpc2sgaWNvbiBhc3Rlcmlzay1jb2xvclwiPjwvaT48L3N1cD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkIHRleHQtcmlnaHQgcC0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJteC0yMCBzYW1wbGUtZG93bmxvYWRcIiAoY2xpY2spPVwibWFudWFsRG93bmxvYWQoKVwiPkluc3RydWN0aW9uIE1hbnVhbDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm1sLTEgc2FtcGxlLWRvd25sb2FkXCIgKGNsaWNrKT1cInNhbXBsZU9ES0Rvd25sb2FkKClcIj5TYW1wbGUgT0RLIEZvcm0gKC54bHN4KTwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgbmFtZT1cImZpbGVcIiBwbGFjZWhvbGRlcj1cIkJyb3dzZSBYTUwgRmlsZS4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgIChjaGFuZ2UpPVwib25GaWxlVXBsb2FkKCRldmVudClcIiBhY2NlcHQ9XCIueG1sXCI+XG4gICAgICAgICAgICAgICAgPHNtYWxsICpuZ0lmPVwib2RrRmlsZUFscmVhZHlFeGlzdFwiIGNsYXNzPVwidGV4dC1kYW5nZXJcIj57e2ZpbGVFcnJvclN0YXR1c319PC9zbWFsbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInNiLW1vZGFsLWFjdGlvbnNcIj5cbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImlzTW9kYWxMb2FkZXJTaG93OyBlbHNlIG1vZGFsQnRuXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2ItYnRuIHNiLWJ0bi1ub3JtYWwgc2ItYnRuLXByaW1hcnkgcC0wXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVpIGFjdGl2ZSB0aW55IGlubGluZSBsb2FkZXJcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPG5nLXRlbXBsYXRlICNtb2RhbEJ0bj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzYi1idG4gc2ItYnRuLW5vcm1hbCBzYi1idG4tcHJpbWFyeVwiIChjbGljayk9XCJvbkxvZ2ljQWRkKCk7bW9kYWwuZGVueSgnZGVuaWVkJylcIlxuICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwibG9naWNGb3JtLmludmFsaWRcIj5cbiAgICAgICAgICAgICAgICB7e2xvZ2ljRm9ybS5nZXQoJ2lkJykudmFsdWUgPyAnIFVwZGF0ZScgOiAnQWRkJ319XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNiLWJ0biBzYi1idG4tbm9ybWFsIHNiLWJ0bi1vdXRsaW5lLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgIChjbGljayk9XCJtb2RhbC5kZW55KCdkZW5pZWQnKTtpc01vZGFsTG9hZGVyU2hvdyA9IGZhbHNlO2xvZ2ljRm9ybS5wYXRjaFZhbHVlKHtmb3JtSWQ6ICcnfSk7XCI+XG4gICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG48L3N1aS1tb2RhbD5cblxuPHN1aS1tb2RhbCAqbmdJZj1cInRlcm1zQW5kQ29uZGl0aW9uTW9kYWxcIiBbbXVzdFNjcm9sbF09XCJ0cnVlXCIgW2lzQ2xvc2FibGVdPVwiZmFsc2VcIiBbdHJhbnNpdGlvbkR1cmF0aW9uXT1cIjBcIlxuICAgICAgICAgICBbc2l6ZV09XCInbGFyZ2UnXCJcbiAgICAgICAgICAgY2xhc3M9XCJzYi1tb2RhbFwiIChkaXNtaXNzZWQpPVwidGhpcy50ZXJtc0FuZENvbmRpdGlvbk1vZGFsID0gZmFsc2VcIiAjbW9kYWw+XG4gICAgPGRpdiBjbGFzcz1cInNiLW1vZGFsLWhlYWRlclwiPlxuICAgICAgICBUZXJtcyBhbmQgQ29uZGl0aW9uc1xuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJzYi1tb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxsaWItdGVybXMtY29uZGl0aW9ucz48L2xpYi10ZXJtcy1jb25kaXRpb25zPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJzYi1tb2RhbC1hY3Rpb25zXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzYi1idG4gc2ItYnRuLW5vcm1hbCBzYi1idG4tb3V0bGluZS1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwibW9kYWwuZGVueSgnZGVuaWVkJyk7XCI+XG4gICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG48L3N1aS1tb2RhbD5cbjxzdWktbW9kYWwgKm5nSWY9XCJ2ZXJpZnlBbGxJdGVtc01vZGFsXCIgW211c3RTY3JvbGxdPVwidHJ1ZVwiIFtpc0Nsb3NhYmxlXT1cImZhbHNlXCIgW3RyYW5zaXRpb25EdXJhdGlvbl09XCIwXCJcbiAgICAgICAgICAgW3NpemVdPVwiJ2xhcmdlJ1wiXG4gICAgICAgICAgIGNsYXNzPVwic2ItbW9kYWxcIiAoZGlzbWlzc2VkKT1cInRoaXMudmVyaWZ5QWxsSXRlbXNNb2RhbCA9IGZhbHNlXCIgI3ZlcmlmeUFsbE1vZGFsPlxuICAgIDxkaXYgY2xhc3M9XCJzYi1tb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgPGg0PlxuICAgICAgICAgICAgUGxlYXNlIGNvbmZpcm0gdGhhdCBBTEwgdGhlIGZvbGxvd2luZyBpdGVtcyBhcmUgdmVyaWZpZWQgKGJ5IHRpY2tpbmcgdGhlIGNoZWNrLWJveGVzKSBiZWZvcmUgeW91IGNhbiBzdWJtaXQ6XG4gICAgICAgIDwvaDQ+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInNiLW1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInVpIGdyaWRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3VyIHdpZGUgY29sdW1uXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTIwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoND5BcHByb3ByaWF0ZW5lc3M8L2g0PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidWkgZGl2aWRlclwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aSBncmlkXCIgKm5nRm9yPVwibGV0IGxpc3Qgb2YgQXBwcm9wcmlhdGVuZXNzOyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0d28gd2lkZSBjb2x1bW4gcGItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIFtuYW1lXT1cIidhcHByb3ByaWF0ZW5lc3MnICsgaVwiIFsobmdNb2RlbCldPVwibGlzdC5jaGVja3NcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZW4gd2lkZSBjb2x1bW4gcGwtMCBwYi0wIGxpbmUtaGVpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7e2xpc3QudGV4dH19XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm91ciB3aWRlIGNvbHVtblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0yMFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDQ+Q29udGVudCBEZXRhaWxzPC9oND5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVpIGRpdmlkZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidWkgZ3JpZFwiICpuZ0Zvcj1cImxldCBsaXN0IG9mIGNvbnRlbnREZXRhaWxzOyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0d28gd2lkZSBjb2x1bW4gcGItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIFtuYW1lXT1cIidjb250ZW50RGV0YWlscycgKyBpXCIgWyhuZ01vZGVsKV09XCJsaXN0LmNoZWNrc1wiPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRlbiB3aWRlIGNvbHVtbiBwbC0wIHBiLTAgbGluZS1oZWlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt7bGlzdC50ZXh0fX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3VyIHdpZGUgY29sdW1uXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTIwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoND5Vc2FiaWxpdHk8L2g0PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidWkgZGl2aWRlclwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aSBncmlkXCIgKm5nRm9yPVwibGV0IGxpc3Qgb2YgdXNhYmlsaXR5OyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0d28gd2lkZSBjb2x1bW4gcGItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIFtuYW1lXT1cIid1c2FiaWxpdHknICsgaVwiIFsobmdNb2RlbCldPVwibGlzdC5jaGVja3NcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZW4gd2lkZSBjb2x1bW4gcGwtMCBwYi0wIGxpbmUtaGVpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7e2xpc3QudGV4dH19XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJzYi1tb2RhbC1hY3Rpb25zXCI+XG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJpc0xvYWRlclNob3c7IGVsc2Ugc3VibWl0QnRuXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2ItYnRuIHNiLWJ0bi1ub3JtYWwgc2ItYnRuLXByaW1hcnkgcC0wXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVpIGFjdGl2ZSB0aW55IGlubGluZSBsb2FkZXJcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPG5nLXRlbXBsYXRlICNzdWJtaXRCdG4+XG4gICAgICAgICAgICA8YnV0dG9uICpuZ0lmPVwiaXNTdWJtaXRcIiBjbGFzcz1cInNiLWJ0biBzYi1idG4tbm9ybWFsIHNiLWJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uU3VibWl0KHRydWUpO1wiPlxuICAgICAgICAgICAgICAgIFN1Ym1pdFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uICpuZ0lmPVwiIWlzU3VibWl0XCIgY2xhc3M9XCJzYi1idG4gc2ItYnRuLW5vcm1hbCBzYi1idG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvblN1Ym1pdChmYWxzZSk7XCI+XG4gICAgICAgICAgICAgICAgU2F2ZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzYi1idG4gc2ItYnRuLW5vcm1hbCBzYi1idG4tb3V0bGluZS1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwiYWxsQ2hlY2soZmFsc2UpOyB2ZXJpZnlBbGxNb2RhbC5kZW55KCdkZW5pZWQnKTtcIj5cbiAgICAgICAgICAgIENhbmNlbFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNiLWJ0biBzYi1idG4tbm9ybWFsIHNiLWJ0bi1wcmltYXJ5IGFsbENoZWNrQnRuXCIgKGNsaWNrKT1cImFsbENoZWNrKHRydWUpXCI+XG4gICAgICAgICAgICBDb25maXJtIEFsbFxuICAgICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbjwvc3VpLW1vZGFsPlxuIl19