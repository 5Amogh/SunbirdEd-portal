<div class="help-faq__report">
  <p class="help-faq__report_text">
    {{resourceService.frmelmnts?.lbl?.haventFoundAnyOtherissue}}
  </p>
  <button type="button" class="sb-btn sb-btn-normal sb-btn-outline-primary" (click)="openModal()"
    data-target="#openPopUp"> {{resourceService.frmelmnts?.lbl?.reportOtherIssue}} </button>
</div>
<sui-modal *ngIf="showNormalModal" [mustScroll]="true" [isClosable]="true" [transitionDuration]="0" [size]="'normal'"
  class="sb-modal" appBodyScroll (dismissed)="showNormalModal = !showNormalModal" #modal id="openPopUp">
  <div class="sb-modal-header">{{resourceService.frmelmnts?.lbl?.reportAnIssue}} </div>
  <form [formGroup]="reportOtherissueForm">
    <div class="sb-modal-content">
      <div *ngIf='!issueReportText'>
        <div class="sb-field">
          <label for="email">{{resourceService.frmelmnts?.lbl?.email}}</label>
          <input type="email" name="email" formControlName="email"
            [ngClass]="{'is-invalid': reportOtherissueForm.controls.email.touched && reportOtherissueForm.controls['email'].errors}"
            class="sb-form-control  mb-8" placeholder="{{resourceService.frmelmnts?.lbl?.enterEmailID}}">
          <small *ngIf="reportOtherissueForm.controls.email.touched && reportOtherissueForm.controls['email'].errors"
            class="message sb-color-error">{{resourceService.frmelmnts?.lbl?.validEmail}}</small>
        </div>
        <div class="sb-field">
          <label for="moretext">{{resourceService.frmelmnts?.lbl?.tellUsMoreAboutProblem}} </label>
          <div class="relative">
            <textarea rows="4" name="moretext" class="sb-form-control" formControlName="description" maxlength="1000"
              placeholder="{{resourceService.frmelmnts?.lbl?.typeHere}}"></textarea>
            <span class="characters-left">{{descriptionCount}} {{resourceService.frmelmnts?.lbl?.characterleft}} </span>
          </div>
        </div>
      </div>
      <div class="sb-report-content" *ngIf='issueReportText'>
        <div class='d-flex flex-jc-center flex-ai-center sb-icon'>
          <img src="../../assets/images/circle-with-check-symbol.svg">
        </div>
        <div class="text-center font-weight-bold sb-success-text">
          {{resourceService.frmelmnts?.lbl?.issueReportedSuccessfuly}}</div>
        <div class="text-center fs-0-785 sb-success-para">
          {{resourceService?.frmelmnts?.lbl?.issueReportedSuccessfulySubNote | interpolate:'{instance}': instance}}
        </div>
      </div>
    </div>
    <div class="sb-modal-actions" *ngIf='!issueReportText'>
      <button class="sb-btn sb-btn-normal sb-btn-primary" (click)="submitIssue()"
        [disabled]="reportOtherissueForm.invalid">
        {{resourceService.frmelmnts?.lbl?.submitIssueButton}}
      </button>
    </div>
  </form>
</sui-modal>