<div class="col-md-12">
    <!-- START : List of events -->
    <div class="List_view" ng-if="showSessionDetail && previewEvent">
        <div ng-show="updateSetErrorMsg" class="alert-danger">Server Error</div>
        <div class="askquestionHeader" ng-show="showEditor">
            <div class="row">
                <div class="col-md-12 noPad headerAsk">
                    <h2 class="col-md-8 noPad">{{selectedSession.sessions.name}}</h2>

                    <div class="col-md-4 noPad">
                        <a href="javascript:void(0);" class="pull-right" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Edit Coaching Session" ng-click="editLR(selectedSession.sessions)"><i class="writeBlackOne createBinderBtn fa fa-edit" id="writeIcon"></i></a>
                        <!-- <button class="btn btn-default btn-sm back-to-list pull-right margin-top15 marginLeft10" ng-click="backToSessions();">
                            <i class="fa fa-chevron-left"></i> back to Sessions
                        </button> -->
                        <a href="javascript:void(0);" ng-click="backToSessions();" class="marginTop20 commonBackToList pull-right"><i class="fa fa-chevron-left"></i> Back to Sessions</a>
                    </div>
                </div>
            </div>
            <div class="col-md-12 noPad">
                <div class="col-md-12 noPad">
                    <div class="col-md-9 noPad">
                        <div class="row">
                            <div class="col-md-12 noPad">
                                <p class="ac-contents viewCtn noMarginLeftRight">
                                    <span ng-show="selectedSession.sessions.metadata.description" ng-bind-html="selectedSession.sessions.metadata.description">
                                    </span>
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 noPad">
                                <div class="QAtags">
                                    <span class="badge" ng-repeat="concept in selectedSession.sessions.metadata.concepts">{{concept.name}}</span>
                                </div>
                                <div class="container-gap">&nbsp;</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 noPad">
                        <div class="col-md-12 noPad" style="padding-top:10px;" ng-show="selectedSession.sessionEvents.length > 0">
                            <button class="btn btn-default btn-sm pull-right marginLeft10" ng-click="createCoachingSessionEvent(selectedSession.sessions)">Release Coaching Session</button>
                        </div>
                    </div>
                </div>

                <div class="row" ng-hide="showCreateSession">
                    <div style="height:1px; background:#e5e5e5; margin-bottom:10px;" class="col-md-12 noPad"></div>

                    <div class="col-md-12 noPad" style="padding-top:10px;" ng-show="selectedSession.sessionEvents.length > 0">
                        <h3>Releases</h3>
                    </div>
                    <div style="height:1px; background:#e5e5e5; margin-bottom:10px;" class="col-md-12 noPad"></div>

                    <div ng-hide="showListMsg" style="">
                        <div class="QACol" ng-repeat="events in selectedSession.sessionEvents">
                            <div class="row">
                                <div class="col-md-8 QAcontent">
                                    <div class="col-md-12">
                                        <h5>
                                            <a href="" class="ac-links il-Link-clr" onclick="$('html,body').scrollTop(0);" ng-click="showEventPreview(events);" ng-if="events.name">{{events.name}}</a>
                                            <a href="" class="ac-links il-Link-clr" onclick="$('html,body').scrollTop(0);" ng-click="showEventPreview(events);" ng-if="!events.name">Event {{$index + 1}}</a>
                                        </h5>
                                    </div>
                                    <div class="col-md-12">
                                        <p class="ac-contents viewCtn noMarginLeftRight">
                                            <p class="col-md-12 noPad" ng-show="events.releaseMsg" ng-bind-html="renderHtmlTrim(events.releaseMsg, 250)"></p>
                                        </p>
                                    </div>
                                    <div class="col-md-12">
                                        <ul>
                                            <li class="inlineBlock">
                                                <span>Session Start : {{events.startDate |date:'medium'}}</span>
                                            </li>
                                            <li class="list-dash inlineBlock">|</li>
                                            <li class="inlineBlock">
                                                <span>Session End : {{events.endDate | date:'medium'}} </span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-4 QAStatus">
                                    <ul class="pull-right">
                                        <li class="secondary">
                                            <span class="number">{{events.invited.length}}</span> <span>Invite.</span>
                                        </li>
                                        <li class="secondary">
                                            <span class="number">{{events.accepted.length}}</span> <span>Accept.</span>
                                        </li>
                                        <li class="secondary">
                                            <span class="number">{{events.declined.length}}</span> <span>Decline.</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <hr/>
                        </div>
                    </div>
                    <div class="alert alert-info fade in col-md-12 noPad padL10" ng-show="selectedSession.sessionEvents.length == 0">
                        <p>No events are added to this Coaching session. <a href="javascript:void(0)" class="btn-link" ng-click="createCoachingSessionEvent(selectedSession.sessions)">Click here to create new event</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div ng-show="!showEditor" class="marginTop5" ng-include="'/templates/content/contentEditor.html'"></div>
    </div>
    <!-- END : List of events -->

    <!-- END : preview event -->
    <div ng-hide="previewEvent" class="col-md-12 noPad">
        <div class="col-md-12 noPad askquestionHeader">
            <div class="headerAsk col-md-12 noPad">
                <span ng-if="selectedEvent.name"><h2>{{selectedEvent.name}}</h2></span>
                <span ng-if="!selectedEvent.name"><h2>Event</h2></span>

                <a href="javascript:void(0);" ng-click="backToList();" class="marginTop20 commonBackToList pull-right"><i class="fa fa-chevron-left"></i> Back to list</a>

                <!-- <button class="btn btn-default btn-sm back-to-list pull-right margin-top15" ng-click="backToList();">
                    <i class="fa fa-chevron-left"></i> back to list
                </button> -->
            </div>
        </div>

        <div class="col-md-12 noPad">
            <div class="col-md-12 noPad QAcontent">
                <div class="col-md-12 noPad detailsQuestion">
                    <ul>
                        <li>
                            <span>Session Start : {{selectedEvent.startDate |date:'medium'}}</span>
                        </li>
                        <li class="list-dash">|</li>
                        <li>
                            <span>Session End : {{selectedEvent.endDate | date:'medium'}} </span>
                        </li>
                        <li class="list-dash">|</li>
                        <li>
                           <a href="{{selectedEvent.location}}" class="ac-links il-Link-clr" target="_blank">Join Meeting</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="content_row marginTop5">
                <p class="common_content col-md-12 noPad" ng-bind-html="renderHtml(selectedEvent.releaseMsg)"></p>
            </div>

            <div class="row">
                <div class="col-md-12 noPad">
                    <div class="il-sc-container">
                        <div>
                            <div class="il-sc-header">
                                <h2><a href="javascript:void(0)" ng-click="collapsedInvited=!collapsedInvited">Invited : {{selectedEvent.invited.length}}</a></h2>
                            </div>

                            <div ng-show="collapsedInvited">
                                <table class="table">
                                    <tbody>
                                        <tr ng-repeat="user in getDisplayName(selectedEvent.invited)" style="border-bottom: 1px solid #ccc">
                                            <td>{{user}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>

                    </div>

                    <div class="il-sc-container">
                        <div>
                            <div class="il-sc-header il-dd-header">
                                <h2><a href="javascript:void(0)" ng-click="collapsedAccepted=!collapsedAccepted"> Accepted : {{selectedEvent.accepted.length}}</a></h2>
                            </div>

                            <div ng-show="collapsedAccepted">
                                <table class="table">
                                    <tbody>
                                        <tr ng-repeat="user in getActonsDisplayName(selectedEvent.actions) | filter:{action: 'accepted'}" style="border-bottom: 1px solid #ccc">
                                            <td>{{user.name}}</td>
                                            <td>
                                                <span>At </span>{{ user.actionDate | date:'medium'}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                            </div>

                        </div>
                    </div>

                    <div class="il-sc-container">
                        <div>
                            <div class="il-sc-header il-ct-header">
                                <h2><a href="javascript:void(0)" ng-click="collapsedDeclined=!collapsedDeclined">Declined : {{selectedEvent.declined.length}}</a></h2>
                            </div>

                            <div ng-show="collapsedDeclined">
                                <table class="table">
                                    <tbody>
                                        <tr ng-repeat="user in getActonsDisplayName(selectedEvent.actions) | filter:{action: 'declined'}" style="border-bottom: 1px solid #ccc">
                                            <td>{{user.name}}</td>
                                            <td>
                                                <span>At </span>{{ user.actionDate | date:'medium'}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="row">
                <div class="col-md-12 noPad">
                    <div class="col-md-12 noPad inlineBlock">
                        <h2 class="col-md-6 noPad">Media</h2>
                        <button class="btn btn-default btn-sm back-to-list pull-right marginTop20" ng-hide="editEvent.mediaForm" ng-init="editEvent.mediaForm=false" ng-click="editEvent.addMedia()">
                            Add Media
                        </button>
                    </div>
                    <div class="col-md-12 noPad" style="height:1px; background:#e5e5e5; margin-top:5px;margin-bottom:5px;">&nbsp;</div>
                    <div class="col-md-12 noPad" ng-show="(!selectedEvent.media || selectedEvent.media.length == 0) && !editEvent.mediaForm">
                        <div class="alert alert-info fade in marginTop10 col-md-12 noPad padL10" role="alert">
                            <p>There are no Media added for the event. <a ng-click="editEvent.mediaForm = !editEvent.mediaForm" href="javascript:void(0)">Would you like to add one?</a>
                            </p>
                        </div>
                    </div>
                    <div class="col-md-12 noPad">
                        <div class="col-md-12 noPad media-entry" ng-repeat="media in selectedEvent.media">
                            <div class="col-md-10">
                                <label class="col-md-12 noPad">
                                    <i ng-if="media.mediaType == 'video'" class="fa fa-youtube-play"></i>
                                    <i ng-if="media.mediaType == 'slides'" class="fa fa-file-powerpoint-o"></i>
                                    <i ng-if="media.mediaType == 'document'" class="fa fa-file-pdf-o"></i>
                                    <i ng-if="media.mediaType == 'url'" class="fa fa-link"></i>
                                    <i ng-if="media.mediaType == 'external'" class="fa fa-external-link-square"></i> {{media.title}}
                                </label>
                                <span><em>{{media.mediaUrl}}</em></span>
                            </div>
                            <div class="col-md-1" ng-click="editEvent.editMedia(media)">
                                <a href=""><h3><i class="fa fa-pencil"></i></h3></a>
                            </div>
                            <div class="col-md-1" ng-click="editEvent.removeMedia(media)">
                                <a href=""><h3><i class="fa fa-times"></i></h3></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 noPad" ng-show="editEvent.mediaForm">
                        <div class="">
                            <div class="form col-md-12 noPad marginBottom25">
                                <div class="row" style="margin-bottom: 15px;">
                                    <div class="col-md-12">
                                        <h3>Add/Edit Media</h3>
                                    </div>
                                    <div ng-show="showEventMediaErrorMsg" class="col-md-12 alert alert-danger padL10" role="alert">Please fill all required fields.</div>
                                    <div class="col-md-6">
                                        <label>Type*</label>
                                        <select ng-model="newMedia.type" ng-change="editEvent.handleMediaType()" ng-options="m.name for m in editEvent.mediaTypes" class="form-control"></select>
                                    </div>
                                    <div class="col-md-6">
                                        <label>Name*</label>
                                        <input type="text" ng-model="newMedia.title" class="form-control" />
                                    </div>
                                    <div ng-show="newMedia.type.type == 'slides' || newMedia.type.type == 'document'">
                                        <div class="col-md-10 marginTop20">
                                            <label>Upload Document</label>
                                            <input type="file" ng-il-file-model="editEvent.mediaUpload.fileToUpload" class="" />
                                        </div>
                                        <div class="col-md-2 marginTop20">
                                            <button class="btn btn-info" ng-click="editEvent.mediaUpload.uploadDoc()">Upload</button>
                                            <img src="/img/loading.gif" ng-show="editEvent.mediaUpload.uploading" />
                                        </div>
                                    </div>
                                    <div class="col-md-12 marginTop20">
                                        <label>URL*</label>
                                        <input type="text" ng-model="newMedia.mediaUrl" class="form-control" />
                                    </div>
                                    <div class="col-md-12 marginTop20 marginBottom25" style="padding-top:10px;">
                                        <button class="btn btn-primary pull-right marginLeft10" ng-show="editEvent.mediaForm" ng-click="editEvent.saveMedia(newMedia)">Save</button>
                                        <button class="btn btn-default pull-right" ng-show="editEvent.mediaForm" ng-click="editEvent.cancelEdit()">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 noPad" ng-show="!editEvent.mediaForm">
                        <button id="updateMediaBtn" class="btn btn-primary pull-right marginBottom25" ng-click="editEvent.updateMedia()">Update Event</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- END : preview event -->

</div>
