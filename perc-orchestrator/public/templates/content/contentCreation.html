<div class="col-md-12 noPad">
    <div class="col-md-12 noPad List_view">
        <div class="col-md-12 noPad askquestionHeader">
            <div class="headerAsk col-md-12 noPad">
                <h2>Create Coaching Session</h2>
                <a href="javascript:void(0);" class="pull-right" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Coaching Session List" ng-click="sessionListPage()"><i class="writeBlackOne createBinderBtn fa fa-close" id="writeIcon"></i></a>
            </div>
            <div class="padTop">
                <div class="form">
                    <div class="form-group col-md-12 noPad">
                        <div ng-show="showErrorMsg" class="col-md-12 alert alert-danger padL10" role="alert">Please fill all required fields.</div>
                        <div class="row form-group marginTop20" style="margin-bottom: 15px;">
                            <div class="col-md-12 form-group required">
                                <label class="control-label">Name</label>
                                <input type="text" id="createTitle" maxlength="120" class="form-control" ng-model="createSession.metadata.name" />
                            </div>
                            <div class="col-md-12 form-group required">
                                <label class="control-label">Description</label>
                                <textarea ng-il-pagedown preview="true" placeholder="" style="width: 100%; min-height: 100px;" ng-model="createSession.metadata.description"></textarea>
                            </div>
                        </div>

                        <div class="row form-group" style="margin-bottom: 15px;">
                            <div class="col-md-6">
                                <label>Concepts</label>
                                <select ng-il-multiselect='{"placeholder":"Select Concepts..."}' multiple="true" ng-model="createSession.metadata.concepts" ng-options="object.name for object in createSession.getConcepts(conceptTitleMap)" style="width: 100%;"></select>
                            </div>
                            <div class="col-md-6 required">
                                <label class="control-label">Learning Object</label>
                                <select ng-model="session.parent" ng-options="lecture.label for lecture in allLectures" ng-change="setCoachingSessionParent(session.parent)" id="sessionLOSelect" style="width: 100%;">
                                    <option></option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="askquestionHeader" ng-hide="createSession.basic">
        <div class="col-md-12 noPad">
            <h2>Preparatory Material</h2>
            <hr/>
            <div class="col-md-12 media-entry" ng-repeat="media in createSession.mediaList" ng-show="createSession.mediaList.length > 0">
                <div class="col-md-10">
                    <label class="col-md-12 noPad">
                        <i ng-if="media.mediaType == 'video'" class="fa fa-youtube-play"></i>
                        <i ng-if="media.mediaType == 'slides'" class="fa fa-file-powerpoint-o"></i>
                        <i ng-if="media.mediaType == 'document'" class="fa fa-file-pdf-o"></i>
                        <i ng-if="media.mediaType == 'url'" class="fa fa-link"></i>
                        <i ng-if="media.mediaType == 'external'" class="fa fa-external-link-square"></i> {{media.title}}
                    </label>
                    <span><em>{{media.mediaUrl}}</em></span>
                </div>
                <div class="col-md-1" ng-click="createSession.editMedia(media)">
                    <a href=""><h3><i class="fa fa-pencil"></i></h3></a>
                </div>
                <div class="col-md-1" ng-click="createSession.removeMedia(media)">
                    <a href=""><h3><i class="fa fa-times"></i></h3></a>
                </div>
            </div>

            <div class="" ng-show="createSession.mediaForm">
                <div class="form">
                    <div class="form-group col-md-12 noPad">
                        <div class="" style="margin-bottom: 15px;">
                            <div class="col-md-12 noPad">
                                <h3>Add/Edit Preparatory Material</h3>
                            </div>
                            <div ng-show="showMediaErrorMsg" class="col-md-12 alert alert-danger padL10" role="alert">Please fill all required fields.</div>
                            <div class="row">
                                <div class="col-md-6 form-group required">
                                    <label class="control-label">Type</label>
                                    <select ng-model="newMedia.type" ng-change="createSession.handleMediaType()" ng-options="m.name for m in createSession.mediaTypes" class="form-control"></select>
                                </div>

                                <div class="col-md-6 form-group required">
                                    <label class="control-label">Name</label>
                                    <input type="text" ng-model="newMedia.title" class="form-control" />
                                </div>
                            </div>
                        </div>
                        <div class="">
                            <div class="row form-group" ng-show="newMedia.type.type == 'slides' || newMedia.type.type == 'document'">
                                <div class="col-md-4">
                                    <label>Upload Document</label>
                                    <input type="file" ng-il-file-model="createSession.mediaList.fileToUpload" class="" />
                                </div>
                                <div class="col-md-2 top20">
                                    <button class="btn btn-info" ng-click="createSession.mediaList.uploadDoc()">Upload</button>
                                    <img src="/img/loading.gif" ng-show="createSession.mediaList.uploading" />
                                </div>
                            </div>
                            <div class="col-md-6 form-group required" style="padding-left:0px;">
                                <label class="control-label">URL</label>
                                <input type="text" ng-model="newMedia.mediaUrl" class="form-control" />
                            </div>
                        </div>
                        <div class="col-md-12" style="padding-top:10px;">
                            <button class="btn btn-default pull-right marginLeft10" ng-show="createSession.mediaForm" ng-click="createSession.saveMedia(newMedia)">Save</button>
                            <button class="btn btn-default pull-right" ng-show="createSession.mediaForm" ng-click="createSession.cancelEdit()">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-12 noPad" style="padding-top:10px;">
                <button class="btn btn-default pull-right marginLeft10" ng-hide="createSession.mediaForm" ng-init="createSession.mediaForm=false" ng-click="createSession.mediaForm = !createSession.mediaForm">Add Media</button>
            </div>
        </div>
    </div>

    <div class="form">
        <div class="form-group col-md-12 noPad">
            <h2 class="">Additional Information</h2>
            <hr/>
            <label>Short description</label>
            <input type="text" ng-model="createSession.metadata.shortDescription" class="form-control" />
            <label>Synopsis</label>
            <textarea ng-il-pagedown preview="true" placeholder="" style="width: 100%; min-height: 100px;" ng-model="createSession.metadata.synopsis"></textarea>
            <div class="row form-group marginTop20">
                <div class="col-md-6">
                    <label>IsMandatory</label>
                    <select ng-model="createSession.metadata.isMandatory" ng-options="b.label for b in createSession.mandatoryOption" class="form-control"></select>
                </div>
                <div class="col-md-6">
                    <label>Author</label>
                    <input type="text" ng-model="createSession.metadata.author" class="form-control" />
                </div>
            </div>
        </div>
    </div>

    <div class="">
        <div class="col-md-12 noPad" ng-hide="createSession.basic">
            <h2>Additional Resources</h2>
            <div class="col-md-12  media-entry" ng-repeat="media in createSession.additional.list">
                <div class="col-md-10">
                    <label class="col-md-12 noPad">
                        <i ng-if="media.mediaType == 'video'" class="fa fa-youtube-play"></i>
                        <i ng-if="media.mediaType == 'slides'" class="fa fa-file-powerpoint-o"></i>
                        <i ng-if="media.mediaType == 'url'" class="fa fa-globe"></i> {{media.name}}
                    </label>
                    <span><strong>{{media.mediaType}}</strong></span>
                    <span><em>{{media.mediaURL}}</em></span>
                </div>
                <div class="col-md-1" ng-click="createSession.additional.form.edit(media)">
                    <a href=""><h3><i class="fa fa-pencil"></i></h3></a>
                </div>
                <div class="col-md-1" ng-click="createSession.additional.form.remove(media)">
                    <a href=""><h3><i class="fa fa-times"></i></h3></a>
                </div>
            </div>
            <div class="col-md-12 noPad form-group" ng-show="createSession.additional.form.open">
                <h3>Add/Edit Additional Resources</h3>
                <div class="row form-group">
                    <div class="col-md-6">
                        <label>Category</label>
                        <select ng-model="newAddRes.contentGroup" ng-change="createSession.additional.form.handleTypeSelect()" ng-options="a for a in createSession.additional.categories" class="form-control"></select>
                    </div>

                    <div class="col-md-6">
                        <label>Title</label>
                        <input ng-model="newAddRes.name" type="text" class="form-control" />
                    </div>
                </div>

                <div class="row form-group">
                    <div class="col-md-6">
                        <label>Type</label>
                        <select ng-model="newAddRes.type" ng-change="createSession.additional.form.handleTypeSelect()" ng-options="m.name for m in createSession.mediaTypes" class="form-control"></select>
                    </div>

                    <div class="row form-group" ng-show="newAddRes.type.type == 'slides'">
                        <div class="col-md-4">
                            <label>Upload Document</label>
                            <input type="file" ng-il-file-model="createSession.additional.form.fileToUpload" class="" />
                        </div>
                        <div class="col-md-2 top20">
                            <button class="btn btn-info" ng-click="createSession.additional.form.uploadDoc()">Upload</button>
                            <img src="/img/loading.gif" ng-show="createSession.additional.form.uploading" />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label>URL</label>
                        <input type="text" ng-model="newAddRes.mediaURL" class="form-control" />
                    </div>
                </div>
            </div>

            <div class="col-md-12 noPad" style="padding-top:10px;">
                <button class="btn btn-default pull-right marginLeft10" ng-hide="createSession.additional.form.open" ng-init="createSession.additional.form.open=false" ng-click="createSession.additional.form.open = !createSession.additional.form.open">Add Additional Resource</button>
            </div>
        </div>
    </div>

    <div class="col-md-12 noPad">
        <div class="col-md-12" style="padding-top:10px; padding-bottom:10px;">
            <button class="btn btn-default pull-right marginLeft10" ng-show="createSession.additional.form.open" ng-click="createSession.additional.form.save(newAddRes)">Save</button>
            <button class="btn btn-default pull-right" ng-show="createSession.additional.form.open" ng-click="createSession.additional.form.cancel()">Cancel</button>
        </div>
    </div>

    <div class="col-md-12 noPad" style="padding-top:10px; padding-bottom:10px; border-top:1px solid #e5e5e5; text-align:center;">
        <button class="btn btn-primary pull-right" ng-click="createSession.createResource()" id="createBtn">Create Coaching Session</button>
    </div>

</div>
