/*
 * Copyright (c) 2013-2014 Canopus Consulting. All rights reserved. 
 * 
 * This code is intellectual property of Canopus Consulting. The intellectual and technical 
 * concepts contained herein may be covered by patents, patents in process, and are protected 
 * by trade secret or copyright law. Any unauthorized use of this code without prior approval 
 * from Canopus Consulting is prohibited.
 */

/**
 * Test for RDF Parser.
 * 
 * @author ravitejagarlapati
 */

var rdfGraphUtil = require('../commons/RDFGraphUtil');

module.exports = {
	setUp : function(callback) {

		callback();
	},
	tearDown : function(callback) {
		// clean up
		callback();
	},
	testReadGraphFromRDF : function(test) {
		// expecting 3 assertions to be run
		// test.expect(3);
		var rdf = eval('(' 
				+'{   "http://canopusconsulting.com/giotestrelation/14/#14": {     "http://canopusconsulting.com/giotest#relation_label": [       {         "type": "literal",          "value": "tradesWith"       }     ],      "http://canopusconsulting.com/giotest#relationStart": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#4"       }     ],      "http://www.w3.org/2000/01/rdf-schema#range": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "14"       }     ],      "http://canopusconsulting.com/giotest#relationEnd": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://www.w3.org/1999/02/22-rdf-syntax-ns#type": [       {         "type": "uri",          "value": "http://www.w3.org/2002/07/owl#ObjectProperty"       }     ],      "http://www.w3.org/2000/01/rdf-schema#domain": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#4"       }     ]   },    "info:fedora/learning:2": {     "http://canopusconsulting.com/giotest#object_uri": [       {         "type": "literal",          "value": "info:fedora/learning:2"       }     ],      "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "2"       }     ],      "http://canipusconsulting.com/giogis#state": [       {         "type": "literal",          "value": "AP"       }     ],      "http://canopusconsulting.com/giotest#node_type": [       {         "type": "literal",          "value": "NODE"       }     ],      "http://canopusconsulting.com/giotest#label": [       {         "type": "literal",          "value": "Hyderabad"       }     ],      "http://canopusconsulting.com/giotest#zone": [       {         "type": "literal",          "value": "South"       }     ]   },    "http://canopusconsulting.com/giotestrelation/15/#15": {     "http://canopusconsulting.com/giotest#relation_label": [       {         "type": "literal",          "value": "tradesWith"       }     ],      "http://www.w3.org/2000/01/rdf-schema#domain": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://www.w3.org/2000/01/rdf-schema#range": [       {         "type": "uri",          "value": "info:fedora/learning:2"       }     ],      "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "15"       }     ],      "http://canopusconsulting.com/giotest#relationStart": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://canopusconsulting.com/giotest#relationEnd": [       {         "type": "uri",          "value": "info:fedora/learning:2"       }     ],      "http://www.w3.org/1999/02/22-rdf-syntax-ns#type": [       {         "type": "uri",          "value": "http://www.w3.org/2002/07/owl#ObjectProperty"       }     ]   },    "http://canipusconsulting.com/giogisrelation/12/#12": {     "http://canopusconsulting.com/giotest#relation_label": [       {         "type": "literal",          "value": "adjacentTo"       }     ],      "http://www.w3.org/2000/01/rdf-schema#domain": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#4"       }     ],      "http://www.w3.org/2000/01/rdf-schema#range": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "12"       }     ],      "http://canopusconsulting.com/giotest#relationStart": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#4"       }     ],      "http://canopusconsulting.com/giotest#relationEnd": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://www.w3.org/1999/02/22-rdf-syntax-ns#type": [       {         "type": "uri",          "value": "http://www.w3.org/2002/07/owl#ObjectProperty"       }     ],      "http://canopusconsulting.com/giotest#namespace": [       {         "type": "literal",          "value": "gis"       }     ]   },    "http://canopusconsulting.com/giotest#16": {     "http://canopusconsulting.com/giotest#hasCollectionMember": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       },        {         "type": "uri",          "value": "info:fedora/learning:2"       },        {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#4"       }     ],      "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "16"       }     ],      "http://canopusconsulting.com/giotest#node_type": [       {         "type": "literal",          "value": "ORDERED_LIST"       }     ]   },    "http://canopusconsulting.com/giotestrelation/6/#6": {     "http://canopusconsulting.com/giotest#relationStart": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#16"       }     ],      "http://www.w3.org/2000/01/rdf-schema#domain": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#16"       }     ],      "http://www.w3.org/2000/01/rdf-schema#range": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#4"       }     ],      "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "6"       }     ],      "http://canopusconsulting.com/giotest#sequence_index": [       {         "type": "literal",          "value": "1"       }     ],      "http://canopusconsulting.com/giotest#relation_label": [       {         "type": "literal",          "value": "hasCollectionMember"       }     ],      "http://canopusconsulting.com/giotest#relationEnd": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#4"       }     ],      "http://www.w3.org/1999/02/22-rdf-syntax-ns#type": [       {         "type": "uri",          "value": "http://www.w3.org/2002/07/owl#ObjectProperty"       }     ]   },    "http://canopusconsulting.com/giotest#1": {     "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "1"       }     ],      "http://canipusconsulting.com/giogis#state": [       {         "type": "literal",          "value": "Karnataka"       }     ],      "http://canopusconsulting.com/giotest#node_type": [       {         "type": "literal",          "value": "NODE"       }     ],      "http://canopusconsulting.com/giotest#tradesWith": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://canopusconsulting.com/giotest#label": [       {         "type": "literal",          "value": "Bangalore"       }     ],      "http://canopusconsulting.com/giotest#zone": [       {         "type": "literal",          "value": "South"       }     ],      "http://canopusconsulting.com/giotest#adjacentTo": [       {         "type": "uri",          "value": "info:fedora/learning:2"       }     ],      "http://canopusconsulting.com/giotest#system_node_name": [       {         "type": "literal",          "value": "Bengaluru"       }     ]   },    "http://canopusconsulting.com/giotestrelation/13/#13": {     "http://canopusconsulting.com/giotest#relation_label": [       {         "type": "literal",          "value": "tradesWith"       }     ],      "http://www.w3.org/2000/01/rdf-schema#domain": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#1"       }     ],      "http://www.w3.org/2000/01/rdf-schema#range": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "13"       }     ],      "http://canopusconsulting.com/giotest#relationStart": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#1"       }     ],      "http://canopusconsulting.com/giotest#relationEnd": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://www.w3.org/1999/02/22-rdf-syntax-ns#type": [       {         "type": "uri",          "value": "http://www.w3.org/2002/07/owl#ObjectProperty"       }     ]   },    "http://canopusconsulting.com/giotest#3": {     "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "3"       }     ],      "http://canipusconsulting.com/giogis#state": [       {         "type": "literal",          "value": "WB"       }     ],      "http://canopusconsulting.com/giotest#node_type": [       {         "type": "literal",          "value": "NODE"       }     ],      "http://canopusconsulting.com/giotest#tradesWith": [       {         "type": "uri",          "value": "info:fedora/learning:2"       }     ],      "http://canopusconsulting.com/giotest#label": [       {         "type": "literal",          "value": "Kolkata"       }     ],      "http://canopusconsulting.com/giotest#zone": [       {         "type": "literal",          "value": "East"       }     ]   },    "http://canopusconsulting.com/giotest#4": {     "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "4"       }     ],      "http://canipusconsulting.com/giogis#state": [       {         "type": "literal",          "value": "HP"       }     ],      "http://canopusconsulting.com/giotest#tradesWith": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://canopusconsulting.com/giotest#node_type": [       {         "type": "literal",          "value": "NODE"       }     ],      "http://canopusconsulting.com/giotest#adjacentTo": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://canopusconsulting.com/giotest#label": [       {         "type": "literal",          "value": "Simla"       }     ],      "http://canopusconsulting.com/giotest#zone": [       {         "type": "literal",          "value": "North"       }     ]   },    "http://canopusconsulting.com/giotestrelation/5/#5": {     "http://www.w3.org/2000/01/rdf-schema#domain": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#16"       }     ],      "http://canopusconsulting.com/giotest#relationStart": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#16"       }     ],      "http://www.w3.org/2000/01/rdf-schema#range": [       {         "type": "uri",          "value": "info:fedora/learning:2"       }     ],      "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "5"       }     ],      "http://canopusconsulting.com/giotest#sequence_index": [       {         "type": "literal",          "value": "0"       }     ],      "http://canopusconsulting.com/giotest#relation_label": [       {         "type": "literal",          "value": "hasCollectionMember"       }     ],      "http://canopusconsulting.com/giotest#relationEnd": [       {         "type": "uri",          "value": "info:fedora/learning:2"       }     ],      "http://www.w3.org/1999/02/22-rdf-syntax-ns#type": [       {         "type": "uri",          "value": "http://www.w3.org/2002/07/owl#ObjectProperty"       }     ]   },    "http://canipusconsulting.com/giogisrelation/11/#11": {     "http://canopusconsulting.com/giotest#relationStart": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#1"       }     ],      "http://canopusconsulting.com/giotest#relation_label": [       {         "type": "literal",          "value": "adjacentTo"       }     ],      "http://www.w3.org/2000/01/rdf-schema#range": [       {         "type": "uri",          "value": "info:fedora/learning:2"       }     ],      "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "11"       }     ],      "http://canopusconsulting.com/giotest#relationEnd": [       {         "type": "uri",          "value": "info:fedora/learning:2"       }     ],      "http://www.w3.org/1999/02/22-rdf-syntax-ns#type": [       {         "type": "uri",          "value": "http://www.w3.org/2002/07/owl#ObjectProperty"       }     ],      "http://canopusconsulting.com/giotest#namespace": [       {         "type": "literal",          "value": "gis"       }     ],      "http://www.w3.org/2000/01/rdf-schema#domain": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#1"       }     ]   },    "http://canopusconsulting.com/giotestrelation/7/#7": {     "http://canopusconsulting.com/giotest#relationStart": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#16"       }     ],      "http://canopusconsulting.com/giotest#relation_label": [       {         "type": "literal",          "value": "hasCollectionMember"       }     ],      "http://www.w3.org/2000/01/rdf-schema#range": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://canopusconsulting.com/giotest#id": [       {         "type": "literal",          "value": "7"       }     ],      "http://canopusconsulting.com/giotest#sequence_index": [       {         "type": "literal",          "value": "2"       }     ],      "http://canopusconsulting.com/giotest#relationEnd": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#3"       }     ],      "http://www.w3.org/1999/02/22-rdf-syntax-ns#type": [       {         "type": "uri",          "value": "http://www.w3.org/2002/07/owl#ObjectProperty"       }     ],      "http://www.w3.org/2000/01/rdf-schema#domain": [       {         "type": "uri",          "value": "http://canopusconsulting.com/giotest#16"       }     ]   } }  '
				+ ')');
				
		rdfGraphUtil.getGraphFromRDF(rdf, function(graph) {
//			console.log(JSON.stringify(graph, null, 8));

			// test.equal(graph.numTriplets,58,"Number of triplets not a
			// expected");
			// test.equal(graph.numNodes,8,"Number of nodes not a expected");
			// test.equal(graph.numRelations,21,"Number of relations not a
			// expected");

			test.done()
		});

	}
};